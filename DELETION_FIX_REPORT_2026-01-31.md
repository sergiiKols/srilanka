# üîß –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤

**–î–∞—Ç–∞:** 31 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (—Å –æ—Ç–∫–∞—Ç–æ–º –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π)  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 31 —è–Ω–≤–∞—Ä—è 2026, 18:50

---

## üî¥ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: 404 –æ—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∫–∞—Ä—Ç—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
```
DELETE /api/saved-properties/5c6a8b66-d2a8-4a92-913f-9db5db916576?userId=999999999
Status: 404
Error: Property not found
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
–í —Ñ–∞–π–ª–µ `src/pages/api/saved-properties/[id].ts` –±—ã–ª–∞ **–¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞:
1. –ü–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 38-42) - –ø–æ–ª—É—á–µ–Ω–∏–µ `telegram_user_id` –∏ `photos`
2. –í—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 65-78) - –ø–æ–ª—É—á–µ–Ω–∏–µ **–ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

–ö–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–ª—Å—è –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –∏–ª–∏ —É–∂–µ –±—ã–ª —É–¥–∞–ª–µ–Ω, –≤—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ 404.

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ë–ï–ó –≤–∫–ª—é—á–µ–Ω–∏—è "Show Archived"

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–∞ –∞–¥–º–∏–Ω—Å–∫–æ–π –∫–∞—Ä—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —É–¥–∞–ª–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "Show Archived" –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `false`, –Ω–æ –∞—Ä—Ö–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–∏–¥–Ω—ã
- –ù–∞ –¥—Ä—É–≥–∏—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–∞—Ä—Ç–∞—Ö —É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü—Ä–∏—á–∏–Ω–∞:**  
–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞–ª–∏—Å—å **legacy –æ–±—ä–µ–∫—Ç—ã** —Å –∫–æ–ª–æ–Ω–∫–æ–π `deleted_at != null`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü—É `archived_properties` –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –≠—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –±—ã–ª–æ —è–≤–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

---

## ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: –£–±—Ä–∞–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ DELETE API

**–§–∞–π–ª:** `src/pages/api/saved-properties/[id].ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚ùå –£–±—Ä–∞–Ω–∞ –ø–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä–µ–∫—Ç–∞ (—Å—Ç—Ä–æ–∫–∏ 38-59)
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–¥ –æ—à–∏–±–∫–∏ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

```typescript
// –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –û–î–ù–ê –ø—Ä–æ–≤–µ—Ä–∫–∞
const { data: fullProperty, error: fullFetchError } = await supabase
  .from('saved_properties')
  .select('*')
  .eq('id', id)
  .eq('telegram_user_id', parseInt(userId))
  .single();
```

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è legacy –æ–±—ä–µ–∫—Ç–æ–≤ —Å deleted_at

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
1. `src/components/admin/AdminMasterMap.tsx`
2. `src/components/map/PersonalMap.tsx`
3. `src/pages/api/saved-properties.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### 1. AdminMasterMap.tsx (—Å—Ç—Ä–æ–∫–∞ 286)
```typescript
// ‚ö†Ô∏è –í–ê–ñ–ù–û: –§–∏–ª—å—Ç—Ä—É–µ–º —Å—Ç–∞—Ä—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å deleted_at (legacy)
query = query.is('deleted_at', null);
```

#### 2. PersonalMap.tsx (—Å—Ç—Ä–æ–∫–∞ 42)
```typescript
// ‚ö†Ô∏è –§–∏–ª—å—Ç—Ä—É–µ–º —Å—Ç–∞—Ä—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å deleted_at (legacy –∑–∞—â–∏—Ç–∞)
const activeProperties = (data || []).filter((prop: any) => !prop.deleted_at);
```

#### 3. saved-properties.ts (—Å—Ç—Ä–æ–∫–∏ 46, 73)
```typescript
// ‚ö†Ô∏è –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π —Ñ–∏–ª—å—Ç—Ä—É–µ–º legacy –æ–±—ä–µ–∫—Ç—ã —Å deleted_at
.is('deleted_at', null)
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå DELETE –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–ª 404
- ‚ùå –û–±—ä–µ–∫—Ç—ã –Ω–µ —É–¥–∞–ª—è–ª–∏—Å—å —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–∞—Ä—Ç
- ‚ùå –ê–¥–º–∏–Ω –≤–∏–¥–µ–ª —É–¥–∞–ª–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ –≤–∫–ª—é—á–µ–Ω–∏—è "Show Archived"

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ DELETE –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç
- ‚úÖ –û–±—ä–µ–∫—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–∞—Ä—Ç
- ‚úÖ –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–∞—Ä—Ö–∏–≤–Ω—ã–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è)
- ‚úÖ Legacy –æ–±—ä–µ–∫—Ç—ã —Å `deleted_at` —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –≤–µ–∑–¥–µ
- ‚úÖ –ê—Ä—Ö–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ "Show Archived"

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–¥–∞–ª–µ–Ω–∏—è (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è)

### –¢–∞–±–ª–∏—Ü—ã:
```
saved_properties         ‚Üí –¢–û–õ–¨–ö–û –∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (deleted_at = null)
archived_properties      ‚Üí –ê—Ä—Ö–∏–≤ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
admin_all_properties     ‚Üí VIEW (–≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–∞)
```

### –ü—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–£–¥–∞–ª–∏—Ç—å" –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∫–∞—Ä—Ç–µ
2. Frontend ‚Üí `DELETE /api/saved-properties/{id}?userId={userId}`
3. API –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. API –∫–æ–ø–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç –≤ `archived_properties`
5. API —É–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç –∏–∑ `saved_properties`
6. Frontend –æ–±–Ω–æ–≤–ª—è–µ—Ç state –∏ —É–¥–∞–ª—è–µ—Ç –º–∞—Ä–∫–µ—Ä —Å –∫–∞—Ä—Ç—ã

### –ó–∞—â–∏—Ç–∞ –æ—Ç legacy –¥–∞–Ω–Ω—ã—Ö:
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `saved_properties` —Ñ–∏–ª—å—Ç—Ä—É—é—Ç `deleted_at IS NULL`
- Frontend –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã —Å `deleted_at`
- –ê—Ä—Ö–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `showArchived = true`

---

## üìã –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. ‚úÖ `src/pages/api/saved-properties/[id].ts` - —É–±—Ä–∞–Ω–∞ –¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
2. ‚úÖ `src/components/admin/AdminMasterMap.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä –ø–æ `deleted_at`
3. ‚úÖ `src/components/map/PersonalMap.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä –ø–æ `deleted_at`
4. ‚úÖ `src/pages/api/saved-properties.ts` - –¥–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä –ø–æ `deleted_at` –≤ –æ–±–∞ –∑–∞–ø—Ä–æ—Å–∞

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∫–∞—Ä—Ç—ã:**
   - [ ] –û—Ç–∫—Ä—ã—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É `/map/personal/999999999/test99`
   - [ ] –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –æ–±—ä–µ–∫—Ç
   - [ ] –ù–∞–∂–∞—Ç—å "–£–¥–∞–ª–∏—Ç—å"
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–±—ä–µ–∫—Ç –∏—Å—á–µ–∑ —Å –∫–∞—Ä—Ç—ã
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç 404 –æ—à–∏–±–∫–∏

2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ:**
   - [ ] –û—Ç–∫—Ä—ã—Ç—å `/admin/master-map`
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞—Ä—Ö–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ù–ï –≤–∏–¥–Ω—ã
   - [ ] –í–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "Show Archived"
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞—Ä—Ö–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø–æ—è–≤–∏–ª–∏—Å—å (—Å–µ—Ä—ã–µ –º–∞—Ä–∫–µ—Ä—ã)

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ API:**
   - [ ] `GET /api/saved-properties?userId=999999999` - —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
   - [ ] `DELETE /api/saved-properties/{id}?userId=999999999` - —É—Å–ø–µ—à–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û—á–∏—Å—Ç–∫–∞ legacy –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–ï—Å–ª–∏ –≤ –±–∞–∑–µ –æ—Å—Ç–∞–ª–∏—Å—å –æ–±—ä–µ–∫—Ç—ã —Å `deleted_at != null`, –∏—Ö –º–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∞—Ä—Ö–∏–≤:

```sql
-- 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫–æ–ª—å–∫–æ —Ç–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
SELECT COUNT(*) FROM saved_properties WHERE deleted_at IS NOT NULL;

-- 2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏—Ö –≤ archived_properties
INSERT INTO archived_properties (
  id, telegram_user_id, latitude, longitude, title, description,
  property_type, photos, price, currency, bedrooms, bathrooms,
  amenities, contact_phone, source_type, forward_from_chat_id,
  forward_from_chat_title, forward_from_username, forward_from_message_id,
  forward_date, google_maps_url, original_created_at, original_updated_at,
  archived_at, archive_reason, days_active, can_restore
)
SELECT 
  id, telegram_user_id, latitude, longitude, title, description,
  property_type, photos, price, currency, bedrooms, bathrooms,
  amenities, contact_phone, source_type, forward_from_chat_id,
  forward_from_chat_title, forward_from_username, forward_from_message_id,
  forward_date, google_maps_url, created_at, updated_at,
  deleted_at, 'migration_cleanup', 
  EXTRACT(DAY FROM (deleted_at - created_at)), true
FROM saved_properties 
WHERE deleted_at IS NOT NULL;

-- 3. –£–¥–∞–ª–∏—Ç—å –∏–∑ saved_properties
DELETE FROM saved_properties WHERE deleted_at IS NOT NULL;
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ deleted_at (–ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏):

```sql
-- –ö–æ–≥–¥–∞ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ legacy –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã
ALTER TABLE saved_properties DROP COLUMN IF EXISTS deleted_at;
```

---

## ‚ú® –ò—Ç–æ–≥–∏

**–ü—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**
- ‚úÖ 404 –æ—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ

**–£–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–¥–∞–ª–µ–Ω–∏—è
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç legacy –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞ production
2. –û—á–∏—Å—Ç–∏—Ç—å legacy –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –£–¥–∞–ª–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É `deleted_at` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
