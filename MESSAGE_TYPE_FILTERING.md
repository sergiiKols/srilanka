# ๐ซ ะคะะะฌะขะะะฆะะฏ ะขะะะะ ะกะะะะฉะะะะ

**ะะฐัะฐ:** 2026-01-29  
**ะฆะตะปั:** ะัะธะฝะธะผะฐัั ัะพะปัะบะพ ะฝัะถะฝัะต ัะธะฟั ัะพะพะฑัะตะฝะธะน, ะพัะบะปะพะฝััั ะพััะฐะปัะฝัะต

---

## ๐ฏ ะงะขะ ะะะะะะะะะ

### โ ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะธะฟั:

1. **๐ท ะคะพัะพ** (`msg.photo`) - ะพัะฝะพะฒะฝะพะน ะบะพะฝัะตะฝั
2. **๐ ะขะตะบัั** (`msg.text`) - ะพะฟะธัะฐะฝะธะต ะธะปะธ Google Maps URL
3. **๐ Caption** (`msg.caption`) - ัะตะบัั ะบ ัะพัะพ

---

## ๐ซ ะงะขะ ะะขะะะะะฏะะ

### โ ะะตะฟะพะดะดะตัะถะธะฒะฐะตะผัะต ัะธะฟั:

1. **๐ฅ ะะธะดะตะพ** (`msg.video`, `msg.video_note`)
2. **๐ ะะพะบัะผะตะฝัั** (`msg.document`)
3. **๐ต ะัะดะธะพ** (`msg.audio`, `msg.voice`)
4. **๐ ะกัะธะบะตัั** (`msg.sticker`)
5. **๐ฌ ะะฝะธะผะฐัะธะธ/GIF** (`msg.animation`)
6. **๐ ะะพะบะฐัะธั** (`msg.location`) - ั ะฝะฐั ัะพะปัะบะพ Google Maps URL
7. **๐ค ะะพะฝัะฐะบัั** (`msg.contact`)
8. **๐ฒ ะะณัั** (`msg.game`, `msg.dice`)
9. **๐ Polls** (`msg.poll`)

---

## ๐ป ะะะะะะะะฆะะฏ

### ะคะธะปััั ะฒัะพะดััะธั ัะพะพะฑัะตะฝะธะน:

```javascript
bot.on('message', async (msg) => {
  const userId = msg.from.id;
  const chatId = msg.chat.id;
  const session = userSessions[userId];
  
  // ะัะปะธ ะฝะตั ะฐะบัะธะฒะฝะพะน ัะตััะธะธ - ะธะณะฝะพัะธััะตะผ
  if (!session) return;
  
  // โ ะะะะะะะะะะะะะซะ ะขะะะซ
  
  // 1. ะคะพัะพ
  if (msg.photo) {
    await handlePhoto(msg, session);
    return;
  }
  
  // 2. ะขะตะบัั (ะพะฟะธัะฐะฝะธะต ะธะปะธ Google Maps)
  if (msg.text) {
    await handleText(msg, session);
    return;
  }
  
  // 3. Caption ะบ ัะพัะพ (ัะถะต ะพะฑัะฐะฑะพัะฐะฝะพ ะฒััะต)
  if (msg.caption) {
    await handleText(msg, session);
    return;
  }
  
  // โ ะะะะะะะะะะะะะะะซะ ะขะะะซ
  
  // ะะธะดะตะพ
  if (msg.video || msg.video_note) {
    await bot.sendMessage(chatId,
      'โ ะะธะดะตะพ ะฝะต ะฟะพะดะดะตัะถะธะฒะฐัััั!\n\n' +
      '๐ท ะัะฟัะฐะฒั ัะพัะพ ะพะฑัะตะบัะฐ ะฒะผะตััะพ ะฒะธะดะตะพ.\n' +
      'ะะพะถะฝะพ ะพัะฟัะฐะฒะธัั ะฝะตัะบะพะปัะบะพ ัะพัะพ (ะดะพ 10 ัััะบ).'
    );
    return;
  }
  
  // ะะพะบัะผะตะฝัั
  if (msg.document) {
    await bot.sendMessage(chatId,
      'โ ะะพะบัะผะตะฝัั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐัััั!\n\n' +
      '๐ท ะัะฟัะฐะฒั ัะพัะพ ะพะฑัะตะบัะฐ.\n' +
      '๐ ะขะตะบััะพะฒะพะต ะพะฟะธัะฐะฝะธะต.\n' +
      '๐ Google Maps ัััะปะบั.'
    );
    return;
  }
  
  // ะัะดะธะพ ะธ ะณะพะปะพัะพะฒัะต
  if (msg.audio || msg.voice) {
    await bot.sendMessage(chatId,
      'โ ะัะดะธะพ ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั!\n\n' +
      '๐ ะะฐะฟะธัะธ ะพะฟะธัะฐะฝะธะต ัะตะบััะพะผ ะฒะผะตััะพ ะณะพะปะพัะพะฒะพะณะพ ัะพะพะฑัะตะฝะธั.'
    );
    return;
  }
  
  // ะกัะธะบะตัั
  if (msg.sticker) {
    await bot.sendMessage(chatId,
      '๐ ะกัะธะบะตัั ะฝะต ะฟัะธะฝะธะผะฐัััั!\n\n' +
      '๐ท ะัะฟัะฐะฒั ัะพัะพ ะพะฑัะตะบัะฐ.'
    );
    return;
  }
  
  // ะะฝะธะผะฐัะธะธ/GIF
  if (msg.animation) {
    await bot.sendMessage(chatId,
      'โ GIF/ะฐะฝะธะผะฐัะธะธ ะฝะต ะฟะพะดะดะตัะถะธะฒะฐัััั!\n\n' +
      '๐ท ะัะฟัะฐะฒั ะพะฑััะฝะพะต ัะพัะพ ะพะฑัะตะบัะฐ.'
    );
    return;
  }
  
  // ะะพะบะฐัะธั (Telegram Location)
  if (msg.location) {
    // ะญัะพ Telegram ะปะพะบะฐัะธั, ะฐ ะฝะฐะผ ะฝัะถะตะฝ Google Maps URL
    await bot.sendMessage(chatId,
      'โ๏ธ Telegram ะปะพะบะฐัะธั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั!\n\n' +
      '๐ ะัะฟัะฐะฒั ัััะปะบั Google Maps ะฒะผะตััะพ ััะพะณะพ:\n' +
      'https://maps.google.com/?q=6.9271,79.8612\n\n' +
      'ะะฐะบ ะฟะพะปััะธัั ัััะปะบั:\n' +
      '1. ะัะบัะพะน Google Maps\n' +
      '2. ะะฐะนะดะธ ะผะตััะพ\n' +
      '3. ะะฐะถะผะธ "ะะพะดะตะปะธัััั"\n' +
      '4. ะกะบะพะฟะธััะน ัััะปะบั'
    );
    return;
  }
  
  // ะะพะฝัะฐะบัั
  if (msg.contact) {
    await bot.sendMessage(chatId,
      'โ ะะพะฝัะฐะบัั ะฝะต ะฟัะธะฝะธะผะฐัััั!\n\n' +
      '๐ ะะพะฑะฐะฒั ะบะพะฝัะฐะบัะฝัั ะธะฝัะพัะผะฐัะธั ะฒ ะพะฟะธัะฐะฝะธะต ะพะฑัะตะบัะฐ.'
    );
    return;
  }
  
  // ะััะฐะปัะฝัะต ัะธะฟั (polls, games, etc)
  if (msg.poll || msg.game || msg.dice) {
    await bot.sendMessage(chatId,
      'โ ะญัะพั ัะธะฟ ัะพะพะฑัะตะฝะธั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั!\n\n' +
      'ะัะฟัะฐะฒั:\n' +
      '๐ท ะคะพัะพ ะพะฑัะตะบัะฐ\n' +
      '๐ Google Maps ัััะปะบั\n' +
      '๐ ะขะตะบััะพะฒะพะต ะพะฟะธัะฐะฝะธะต'
    );
    return;
  }
  
  // ะะตะธะทะฒะตััะฝัะน ัะธะฟ
  await bot.sendMessage(chatId,
    'โ๏ธ ะะต ะฟะพะฝัะป ััะพ ััะพ ะทะฐ ัะธะฟ ัะพะพะฑัะตะฝะธั.\n\n' +
    'ะะพะดะดะตัะถะธะฒะฐัััั ัะพะปัะบะพ:\n' +
    '๐ท ะคะพัะพ\n' +
    '๐ ะขะตะบัั\n' +
    '๐ Google Maps ัััะปะบะธ'
  );
});
```

---

## ๐จ ะะะะกะะะซะ ะกะะะะฉะะะะฏ ะะ ะะจะะะะะฅ

### ะะฐัะธะฐะฝั 1: ะัะฐัะบะธะต ัะพะพะฑัะตะฝะธั

```javascript
const UNSUPPORTED_MESSAGES = {
  video: 'โ ะะธะดะตะพ ะฝะต ะฟะพะดะดะตัะถะธะฒะฐัััั. ะัะฟัะฐะฒั ัะพัะพ.',
  document: 'โ ะะพะบัะผะตะฝัั ะฝะต ะฟัะธะฝะธะผะฐัััั. ะัะฟัะฐะฒั ัะพัะพ.',
  audio: 'โ ะัะดะธะพ ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั. ะะฐะฟะธัะธ ัะตะบััะพะผ.',
  voice: 'โ ะะพะปะพัะพะฒัะต ะฝะต ะฟัะธะฝะธะผะฐัััั. ะะฐะฟะธัะธ ัะตะบััะพะผ.',
  sticker: '๐ ะกัะธะบะตั ะฟัะธะฝัั, ะฝะพ ะฝะต ัะพััะฐะฝัะฝ ๐',
  animation: 'โ GIF ะฝะต ะฟะพะดะดะตัะถะธะฒะฐัััั. ะัะฟัะฐะฒั ัะพัะพ.',
  location: 'โ๏ธ ะัะฟัะฐะฒั Google Maps ัััะปะบั ะฒะผะตััะพ ะปะพะบะฐัะธะธ.',
  contact: 'โ ะะพะฝัะฐะบัั ะฝะต ะฟัะธะฝะธะผะฐัััั. ะะพะฑะฐะฒั ะฒ ะพะฟะธัะฐะฝะธะต.',
  other: 'โ๏ธ ะญัะพั ัะธะฟ ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั.'
};

function getUnsupportedMessage(type) {
  return UNSUPPORTED_MESSAGES[type] || UNSUPPORTED_MESSAGES.other;
}
```

### ะะฐัะธะฐะฝั 2: ะะตัะฐะปัะฝัะต ัะพะพะฑัะตะฝะธั ั ะฟะพะดัะบะฐะทะบะฐะผะธ

```javascript
async function sendUnsupportedMessage(chatId, type) {
  const messages = {
    video: {
      text: '๐ฅ ะะธะดะตะพ ะฝะต ะฟะพะดะดะตัะถะธะฒะฐัััั!',
      reason: 'ะั ัะฐะฑะพัะฐะตะผ ัะพะปัะบะพ ั ัะพัะพ ะดะปั ัะบะพะฝะพะผะธะธ ะผะตััะฐ ะธ ะฑััััะพะน ะทะฐะณััะทะบะธ.',
      action: '๐ท ะัะฟัะฐะฒั ะฝะตัะบะพะปัะบะพ ัะพัะพ ะฒะผะตััะพ ะฒะธะดะตะพ (ะดะพ 10 ัััะบ).'
    },
    
    document: {
      text: '๐ ะะพะบัะผะตะฝัั ะฝะต ะฟัะธะฝะธะผะฐัััั!',
      reason: 'ะกะธััะตะผะฐ ัะฐัััะธัะฐะฝะฐ ะฝะฐ ัะฐะฑะพัั ั ัะพัะพ ะพะฑัะตะบัะพะฒ.',
      action: '๐ท ะัะฟัะฐะฒั ัะพัะพ ะพะฑัะตะบัะฐ ะฒ ะฒะธะดะต ะธะทะพะฑัะฐะถะตะฝะธั.'
    },
    
    voice: {
      text: '๐ค ะะพะปะพัะพะฒัะต ัะพะพะฑัะตะฝะธั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐัััั!',
      reason: 'ะะฟะธัะฐะฝะธะต ะดะพะปะถะฝะพ ะฑััั ะฒ ัะตะบััะพะฒะพะผ ัะพัะผะฐัะต ะดะปั ัะพััะฐะฝะตะฝะธั ะฒ ะฑะฐะทะต.',
      action: '๐ ะะฐะฟะธัะธ ะพะฟะธัะฐะฝะธะต ัะตะบััะพะผ ะธะปะธ ะธัะฟะพะปัะทัะน ะณะพะปะพัะพะฒะพะน ะฒะฒะพะด ะบะปะฐะฒะธะฐัััั.'
    },
    
    location: {
      text: '๐ Telegram ะปะพะบะฐัะธั ะฝะต ะฟะพะดัะพะดะธั!',
      reason: 'ะะฐะผ ะฝัะถะฝะฐ ัััะปะบะฐ Google Maps ะดะปั ัะพัะฝะพะณะพ ะพะฟัะตะดะตะปะตะฝะธั ะบะพะพัะดะธะฝะฐั.',
      action: 
        '๐ ะะฐะบ ะฟะพะปััะธัั ัััะปะบั Google Maps:\n\n' +
        '1๏ธโฃ ะัะบัะพะน Google Maps\n' +
        '2๏ธโฃ ะะฐะนะดะธ ะฝัะถะฝะพะต ะผะตััะพ\n' +
        '3๏ธโฃ ะะฐะถะผะธ "ะะพะดะตะปะธัััั" โ "ะกะบะพะฟะธัะพะฒะฐัั ัััะปะบั"\n' +
        '4๏ธโฃ ะัะฟัะฐะฒั ัััะปะบั ััะดะฐ\n\n' +
        'ะัะธะผะตั: https://maps.google.com/?q=6.9271,79.8612'
    }
  };
  
  const msg = messages[type];
  
  if (msg) {
    await bot.sendMessage(chatId,
      `${msg.text}\n\n` +
      `๐ก ${msg.reason}\n\n` +
      `โ ${msg.action}`
    );
  } else {
    await bot.sendMessage(chatId,
      'โ๏ธ ะญัะพั ัะธะฟ ัะพะพะฑัะตะฝะธั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั.\n\n' +
      'ะัะฟัะฐะฒั:\n' +
      '๐ท ะคะพัะพ\n' +
      '๐ ะขะตะบัั\n' +
      '๐ Google Maps ัััะปะบั'
    );
  }
}
```

---

## ๐ง ะกะะะฆะะะะฌะะซะ ะกะะฃะงะะ

### 1. ะะตัะตััะปะบะฐ ัะพะพะฑัะตะฝะธะน (Forward)

```javascript
bot.on('message', async (msg) => {
  const session = userSessions[msg.from.id];
  if (!session) return;
  
  // ะัะปะธ ััะพ forward
  if (msg.forward_date) {
    // ะะทะฒะปะตะบะฐะตะผ ัะพะปัะบะพ ะฝัะถะฝัะต ะดะฐะฝะฝัะต ะธะท forward
    if (msg.photo) {
      await handlePhoto(msg, session);
      return;
    }
    
    if (msg.text || msg.caption) {
      await handleText(msg, session);
      return;
    }
    
    // Forward ั ะฝะตะฟะพะดะดะตัะถะธะฒะฐะตะผัะผ ัะธะฟะพะผ
    await bot.sendMessage(msg.chat.id,
      'โ๏ธ ะ ะฟะตัะตัะปะฐะฝะฝะพะผ ัะพะพะฑัะตะฝะธะธ ะฝะตั ะฟะพะดัะพะดััะตะณะพ ะบะพะฝัะตะฝัะฐ!\n\n' +
      'ะัะถะฝั:\n' +
      '๐ท ะคะพัะพ\n' +
      '๐ ะขะตะบัั ั ะพะฟะธัะฐะฝะธะตะผ\n' +
      '๐ Google Maps ัััะปะบะฐ'
    );
    return;
  }
});
```

### 2. ะะตะดะธะฐ-ะณััะฟะฟั ั ัะฐะทะฝัะผะธ ัะธะฟะฐะผะธ

```javascript
// Telegram ะผะพะถะตั ะพัะฟัะฐะฒะธัั mixed media group (ัะพัะพ + ะฒะธะดะตะพ)
if (msg.media_group_id) {
  if (msg.photo) {
    // ะคะพัะพ ะธะท ะณััะฟะฟั - ะฟัะธะฝะธะผะฐะตะผ
    await handlePhoto(msg, session);
  } else if (msg.video) {
    // ะะธะดะตะพ ะธะท ะณััะฟะฟั - ะพัะบะปะพะฝัะตะผ ั ะฟะพะดัะบะฐะทะบะพะน
    await bot.sendMessage(msg.chat.id,
      'โ๏ธ ะ ะณััะฟะฟะต ะผะตะดะธะฐ ะตััั ะฒะธะดะตะพ - ะพะฝะพ ะฝะต ะฑัะดะตั ัะพััะฐะฝะตะฝะพ.\n' +
      '๐ท ะกะพััะฐะฝะตะฝั ัะพะปัะบะพ ัะพัะพ ะธะท ะณััะฟะฟั.'
    );
  }
  return;
}
```

### 3. ะคะพัะพ ะบะฐะบ ะดะพะบัะผะตะฝั

```javascript
// ะะฝะพะณะดะฐ ะฟะพะปัะทะพะฒะฐัะตะปะธ ะพัะฟัะฐะฒะปััั ัะพัะพ ะบะฐะบ ัะฐะนะป/ะดะพะบัะผะตะฝั
if (msg.document) {
  // ะัะพะฒะตััะตะผ mime_type
  if (msg.document.mime_type && msg.document.mime_type.startsWith('image/')) {
    await bot.sendMessage(msg.chat.id,
      'โ๏ธ ะขั ะพัะฟัะฐะฒะธะป ัะพัะพ ะบะฐะบ ัะฐะนะป!\n\n' +
      '๐ท ะัะฟัะฐะฒั ัะพัะพ ะพะฑััะฝัะผ ัะฟะพัะพะฑะพะผ (ะฝะต ัะตัะตะท "ะัะธะบัะตะฟะธัั ัะฐะนะป").\n\n' +
      'ะญัะพ ะฝัะถะฝะพ ะดะปั ะบะพััะตะบัะฝะพะณะพ ะพัะพะฑัะฐะถะตะฝะธั ะฝะฐ ะบะฐััะต.'
    );
    return;
  }
  
  // ะััะณะธะต ะดะพะบัะผะตะฝัั
  await sendUnsupportedMessage(msg.chat.id, 'document');
}
```

---

## ๐ ะกะขะะขะะกะขะะะ ะ ะะะะะะะะะะะ

### ะะพะณะธัะพะฒะฐะฝะธะต ะพัะบะปะพะฝัะฝะฝัั ัะธะฟะพะฒ:

```javascript
const rejectedTypes = {};

function logRejectedType(type) {
  rejectedTypes[type] = (rejectedTypes[type] || 0) + 1;
  
  // ะะพะณะธััะตะผ ะฒ ะบะพะฝัะพะปั ะธะปะธ ะะ
  console.log(`[REJECTED] Type: ${type}, Total: ${rejectedTypes[type]}`);
}

// ะ ะพะฑัะฐะฑะพััะธะบะต
if (msg.video) {
  logRejectedType('video');
  await sendUnsupportedMessage(chatId, 'video');
  return;
}
```

### ะะฝะฐะปะธัะธะบะฐ ะดะปั ัะปัััะตะฝะธั UX:

```sql
-- ะขะฐะฑะปะธัะฐ ะพัะบะปะพะฝัะฝะฝัั ัะพะพะฑัะตะฝะธะน
CREATE TABLE rejected_messages (
  id SERIAL PRIMARY KEY,
  telegram_user_id BIGINT,
  message_type TEXT, -- 'video', 'document', 'audio', etc
  rejected_at TIMESTAMPTZ DEFAULT NOW()
);

-- ะขะพะฟ ะพัะบะปะพะฝัะฝะฝัั ัะธะฟะพะฒ
SELECT message_type, COUNT(*) as count
FROM rejected_messages
GROUP BY message_type
ORDER BY count DESC;

-- ะะตะทัะปััะฐั ะผะพะถะตั ะฑััั:
-- video: 45
-- voice: 23
-- location: 12
-- document: 8
```

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฐะฝะฐะปะธัะธะบะธ:**
- ะัะปะธ ะผะฝะพะณะพ `video` โ ะดะพะฑะฐะฒะธัั ะบะพะฝะฒะตััะฐัะธั ะฒะธะดะตะพ ะฒ ัะพัะพ (thumbnail)
- ะัะปะธ ะผะฝะพะณะพ `location` โ ะดะพะฑะฐะฒะธัั ะฐะฒัะพะบะพะฝะฒะตััะฐัะธั Telegram Location ะฒ Google Maps URL
- ะัะปะธ ะผะฝะพะณะพ `voice` โ ะดะพะฑะฐะฒะธัั ััะฐะฝัะบัะธะฑะฐัะธั ะณะพะปะพัะพะฒัั ะฒ ัะตะบัั

---

## ๐ ะะะฃะงะะะะ ะะะะฌะะะะะขะะะะ

### ะัะธ ะฟะตัะฒะพะผ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ:

```javascript
bot.onText(/\/start/, async (msg) => {
  // ... ัะพะทะดะฐะฝะธะต ัะตััะธะธ ...
  
  // ะะพะบะฐะทัะฒะฐะตะผ ะฟะพะดัะบะฐะทะบั
  await bot.sendMessage(msg.chat.id,
    '๐ ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั!\n\n' +
    '๐ ะะฐะบ ะดะพะฑะฐะฒะปััั ะพะฑัะตะบัั:\n\n' +
    'โ ะัะฟัะฐะฒะปัะน:\n' +
    '   ๐ท ะคะพัะพ ะพะฑัะตะบัะฐ (ะผะพะถะฝะพ ะฝะตัะบะพะปัะบะพ)\n' +
    '   ๐ ะกััะปะบั Google Maps\n' +
    '   ๐ ะขะตะบััะพะฒะพะต ะพะฟะธัะฐะฝะธะต\n\n' +
    'โ ะะต ะฟะพะดะดะตัะถะธะฒะฐัััั:\n' +
    '   ๐ฅ ะะธะดะตะพ\n' +
    '   ๐ ะะพะบัะผะตะฝัั\n' +
    '   ๐ค ะะพะปะพัะพะฒัะต ัะพะพะฑัะตะฝะธั\n\n' +
    'ะะฐะถะผะธ "๐ค ะะพะฑะฐะฒะธัั ะพะฑัะตะบั" ััะพะฑั ะฝะฐัะฐัั!',
    {
      reply_markup: {
        inline_keyboard: [[
          { text: '๐ค ะะพะฑะฐะฒะธัั ะพะฑัะตะบั', callback_data: 'add_property' }
        ]]
      }
    }
  );
});
```

### ะะพะดัะบะฐะทะบะฐ ะฒ ััะฐัััะต:

```
๐ค ะะพะฑะฐะฒะปะตะฝะธะต ะพะฑัะตะบัะฐ #1

๐ ะกัะฐััั:
โฌ ะคะพัะพ (0)
โฌ Google Maps ัััะปะบะฐ
โฌ ะะฟะธัะฐะฝะธะต ะพะฑัะตะบัะฐ

๐ก ะะพะดะดะตัะถะธะฒะฐัััั:
   ๐ท ะคะพัะพ (ะดะพ 10 ัั)
   ๐ ะขะตะบัั
   ๐ Google Maps URL

[โ ะกะพััะฐะฝะธัั] [โ ะัั ะพะฑัะตะบั] [โ ะัะผะตะฝะฐ]
```

---

## ๐ ะะฏะะะะ ะะขะะะะะะะะ

### ะะต ะพัะฟัะณะธะฒะฐัั ะฟะพะปัะทะพะฒะฐัะตะปั:

```javascript
// โ ะะะะฅะ - ะถัััะบะธะน ะพัะบะฐะท
await bot.sendMessage(chatId, 'โ ะะจะะะะ! ะะธะดะตะพ ะทะฐะฟัะตัะตะฝั!');

// โ ะฅะะะะจะ - ะดััะถะตะปัะฑะฝะพะต ะพะฑัััะฝะตะฝะธะต
await bot.sendMessage(chatId,
  '๐น ะะธะดะตะพ ะฒัะณะปัะดะธั ะบะปะฐััะฝะพ, ะฝะพ ั ะฟะพะบะฐ ัะฐะฑะพัะฐั ัะพะปัะบะพ ั ัะพัะพ! ๐\n\n' +
  '๐ท ะะพะถะตัั ะพัะฟัะฐะฒะธัั ัะบัะธะฝัะพั ะธะท ะฒะธะดะตะพ ะธะปะธ ะฝะตัะบะพะปัะบะพ ัะพัะพ ะพะฑัะตะบัะฐ?\n\n' +
  '๐ก ะญัะพ ะฟะพะผะพะถะตั ะฑััััะตะต ะทะฐะณััะถะฐัั ะบะฐััั.'
);
```

### ะก ัะผะพะดะทะธ ะธ ะฟะพะทะธัะธะฒะพะผ:

```javascript
const FRIENDLY_MESSAGES = {
  sticker: '๐ ะะปะฐััะฝัะน ััะธะบะตั! ะะพ ะฝัะถะฝั ัะพัะพ ะพะฑัะตะบัะฐ ๐ท',
  animation: '๐ฌ ะัััะฐั ะณะธัะบะฐ! ะะพ ะปัััะต ะพะฑััะฝะพะต ัะพัะพ ๐ธ',
  voice: '๐ค ะกะปััั ัะตะฑั! ะะพ ะฝะฐะฟะธัะธ ัะตะบััะพะผ, ะฟะพะถะฐะปัะนััะฐ ๐',
  video: '๐ฅ ะัะปะธัะฝะพะต ะฒะธะดะตะพ! ะะพ ะดะพััะฐัะพัะฝะพ ะฝะตัะบะพะปัะบะธั ัะพัะพ ๐ท'
};
```

---

## โ ะะขะะะะะซะ ะะะ

```javascript
bot.on('message', async (msg) => {
  const userId = msg.from.id;
  const chatId = msg.chat.id;
  const session = userSessions[userId];
  
  if (!session) return;
  
  // ะะะะะะะะะะะะะซะ ะขะะะซ
  if (msg.photo) {
    await handlePhoto(msg, session);
    return;
  }
  
  if (msg.text || msg.caption) {
    await handleText(msg, session);
    return;
  }
  
  // ะะะะะะะะะะะะะะะซะ ะขะะะซ ะก ะะะฃะะะะฎะะะซะะ ะกะะะะฉะะะะฏะะ
  const unsupportedTypes = {
    video: () => msg.video || msg.video_note,
    document: () => msg.document,
    audio: () => msg.audio || msg.voice,
    sticker: () => msg.sticker,
    animation: () => msg.animation,
    location: () => msg.location,
    contact: () => msg.contact,
    poll: () => msg.poll,
    game: () => msg.game
  };
  
  for (const [type, checker] of Object.entries(unsupportedTypes)) {
    if (checker()) {
      logRejectedType(type);
      await sendUnsupportedMessage(chatId, type);
      return;
    }
  }
  
  // ะะตะธะทะฒะตััะฝัะน ัะธะฟ
  await bot.sendMessage(chatId,
    '๐ค ะะต ะฟะพะฝัะป ััะพ ััะพ.\n\n' +
    'ะัะฟัะฐะฒั:\n' +
    '๐ท ะคะพัะพ\n' +
    '๐ ะขะตะบัั\n' +
    '๐ Google Maps ัััะปะบั'
  );
});
```

---

## ๐ฏ ะะะะฎะะ

### โ ะัะธะฝะธะผะฐะตะผ:
- ๐ท ะคะพัะพ (ะพะดะฝะพ ะธะปะธ ะฝะตัะบะพะปัะบะพ, ะณััะฟะฟะฐะผะธ)
- ๐ ะขะตะบัั (ะพะฟะธัะฐะฝะธะต)
- ๐ Google Maps URL (ะฒ ัะตะบััะต)

### โ ะัะบะปะพะฝัะตะผ ั ะพะฑัััะฝะตะฝะธะตะผ:
- ๐ฅ ะะธะดะตะพ โ "ะัะฟัะฐะฒั ัะพัะพ"
- ๐ ะะพะบัะผะตะฝัั โ "ะัะฟัะฐะฒั ัะพัะพ"
- ๐ค ะะพะปะพัะพะฒัะต โ "ะะฐะฟะธัะธ ัะตะบััะพะผ"
- ๐ ะกัะธะบะตัั โ "ะัะถะฝั ัะพัะพ"
- ๐ฌ GIF โ "ะัะฟัะฐะฒั ัะพัะพ"
- ๐ Telegram Location โ "ะัะถะฝะฐ Google Maps ัััะปะบะฐ"
- ๐ค ะะพะฝัะฐะบัั โ "ะะพะฑะฐะฒั ะฒ ะพะฟะธัะฐะฝะธะต"

### ๐ ะะฑััะฐะตะผ:
- ะะพะบะฐะทัะฒะฐะตะผ ะฟะพะดัะบะฐะทะบะธ
- ะััะถะตะปัะฑะฝัะต ัะพะพะฑัะตะฝะธั
- ะะฑัััะฝัะตะผ ะฟะพัะตะผั
- ะะพะฒะพัะธะผ ััะพ ะดะตะปะฐัั ะฒะผะตััะพ ััะพะณะพ

---

**ะัั ัััะตะฝะพ? ะะพัะพะฒะพ ะบ ัะตะฐะปะธะทะฐัะธะธ?** ๐
