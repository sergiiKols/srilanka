# üóÑÔ∏è DATABASE MIGRATIONS

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç SQL —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## üìã –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. `01_create_tenants_table.sql` - –¢–∞–±–ª–∏—Ü–∞ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤
2. `02_create_token_function.sql` - –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
3. `03_create_saved_properties_table.sql` - –¢–∞–±–ª–∏—Ü–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
4. `04_create_indexes.sql` - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. `05_create_access_attempts_table.sql` - –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è Rate Limiting
6. `06_insert_test_data.sql` - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

## üöÄ –ö–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

### –ß–µ—Ä–µ–∑ Supabase Dashboard:
1. –û—Ç–∫—Ä—ã—Ç—å SQL Editor
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å (Run)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ß–µ—Ä–µ–∑ psql:
```bash
psql -h your-host -U postgres -d your-db -f 01_create_tenants_table.sql
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:

1. –¢–∞–±–ª–∏—Ü–∞ –ø–æ—è–≤–∏–ª–∞—Å—å –≤ Database ‚Üí Tables
2. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ Table Editor
3. –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏
4. –í—Å–µ –ø–æ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
