# üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## ‚úÖ –®–ê–ì 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub (–°–ï–ô–ß–ê–° –î–ï–õ–ê–ï–ú)

### 1.1 –ö–æ–º–º–∏—Ç –∏ Push –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ workflow

–§–∞–π–ª `.github/workflows/docker-deploy.yml` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è GitHub Container Registry.

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ:**

```bash
git add .github/workflows/docker-deploy.yml
git commit -m "Configure GitHub Container Registry"
git push origin main
```

### 1.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/sergiiKols/srilanka/actions
2. –í—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π workflow "Docker Build and Push"
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–µ–ª–µ–Ω–æ–π –≥–∞–ª–æ—á–∫–∏ ‚úÖ (~3-5 –º–∏–Ω—É—Ç)

---

## ‚úÖ –®–ê–ì 2: –°–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–∑ –ø—É–±–ª–∏—á–Ω—ã–º (–í–ê–ñ–ù–û!)

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/sergiiKols/srilanka/pkgs/container/srilanka
2. **Package settings** (—Å–ø—Ä–∞–≤–∞)
3. **Change visibility** ‚Üí **Public**
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ

**–ü–æ—á–µ–º—É:** –ß—Ç–æ–±—ã –≤–∞—à–∞ Docker –ø–∞–Ω–µ–ª—å –º–æ–≥–ª–∞ —Å–∫–∞—á–∞—Ç—å –æ–±—Ä–∞–∑ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

---

## ‚úÖ –®–ê–ì 3: –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –≤ –≤–∞—à–µ–π –ø–∞–Ω–µ–ª–∏

–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –≤–∞—à—É Docker –ø–∞–Ω–µ–ª—å (–≥–¥–µ –≤—ã —Å–µ–π—á–∞—Å):

### –ù–∞–∂–º–∏—Ç–µ "+ Create Service"

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:

#### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **Service Name**: `sri-lanka-app`
- **Image**: `ghcr.io/sergiikols/srilanka:latest`
- **Pull Policy**: `Always` (—á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –±—Ä–∞–ª —Å–≤–µ–∂–∏–π –æ–±—Ä–∞–∑)

#### Port Mapping:
- **Container Port**: `3000`
- **Host Port**: `80` (–∏–ª–∏ `3000` –µ—Å–ª–∏ 80 –∑–∞–Ω—è—Ç)
- **Protocol**: `TCP`

#### Environment Variables (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è):

–ù–∞–∂–º–∏—Ç–µ "Add Environment Variable" –¥–ª—è –∫–∞–∂–¥–æ–π:

```
PUBLIC_SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
PUBLIC_SUPABASE_ANON_KEY=eyJ—Ö—Ö—Ö—Ö—Ö—Ö
TELEGRAM_BOT_TOKEN=1234567890:ABCxxxxx
TELEGRAM_ADMIN_CHAT_ID=123456789
PUBLIC_GOOGLE_MAPS_API_KEY=AIzaSyxxxxxx
SITE_API_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api
PERPLEXITY_API_KEY=pplx-xxxxx
GROQ_API_KEY=gsk_xxxxx
```

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –∏–∑ `.env` —Ñ–∞–π–ª–∞!

---

## ‚úÖ –®–ê–ì 4: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

1. –ù–∞–∂–º–∏—Ç–µ **"Create"** –∏–ª–∏ **"Deploy"**
2. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å—Ç–∞—Ç—É—Å–∞ **"Running"** (–∑–µ–ª–µ–Ω—ã–π)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

---

## ‚úÖ –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –í –ø–∞–Ω–µ–ª–∏:
- –ù–∞–π–¥–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å `sri-lanka-app`
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å: **Running** üü¢

### –í –±—Ä–∞—É–∑–µ—Ä–µ:
- –û—Ç–∫—Ä–æ–π—Ç–µ: `http://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä-ip:3000`
- –ò–ª–∏: `http://–≤–∞—à-–¥–æ–º–µ–Ω.com` (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

### Health Check:
- –û—Ç–∫—Ä–æ–π—Ç–µ: `http://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä/health.json`
- –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: `{"status": "ok"}`

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git push origin main`:
1. ‚úÖ GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç –Ω–æ–≤—ã–π –æ–±—Ä–∞–∑
2. ‚úÖ –ó–∞–ø—É—à–∏—Ç –≤ GitHub Container Registry
3. ‚úÖ –í –ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "Redeploy" –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ auto-pull

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û–±—Ä–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω (Image not found)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –æ–±—Ä–∞–∑ –ø—É–±–ª–∏—á–Ω—ã–π (–®–∞–≥ 2)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏: `ghcr.io/sergiikols/srilanka:latest`

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç (Container exits)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–Ω–µ–ª–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

### –ü–æ—Ä—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—Ä—Ç 3000 (–∏–ª–∏ 80) –æ—Ç–∫—Ä—ã—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL (HTTPS)
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å backup

---

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- [x] –®–ê–ì 1.1: –û–±–Ω–æ–≤–∏—Ç—å workflow - **–ì–û–¢–û–í–û** ‚úÖ
- [ ] –®–ê–ì 1.2: Push –≤ GitHub - **–°–ï–ô–ß–ê–°**
- [ ] –®–ê–ì 1.3: –î–æ–∂–¥–∞—Ç—å—Å—è —Å–±–æ—Ä–∫–∏
- [ ] –®–ê–ì 2: –°–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–∑ –ø—É–±–ª–∏—á–Ω—ã–º
- [ ] –®–ê–ì 3: –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å
- [ ] –®–ê–ì 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å
- [ ] –®–ê–ì 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

---

**–ì–æ—Ç–æ–≤—ã –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É?** –í—ã–ø–æ–ª–Ω–∏—Ç–µ git push –∏ –Ω–∞–ø–∏—à–∏—Ç–µ "–≥–æ—Ç–æ–≤–æ"! üöÄ
