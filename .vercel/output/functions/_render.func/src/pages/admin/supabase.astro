---
import Layout from '../../layouts/Layout.astro';
import AdminLayout from '../../components/admin/AdminLayout';
import SupabaseAdmin from '../../components/admin/SupabaseAdmin';

// TODO: Add admin auth check here
// const session = await getSession(Astro.request);
// if (!session || session.role !== 'admin') {
//   return Astro.redirect('/?error=unauthorized');
// }
---

<Layout title="Supabase Database - Admin Panel">
  <AdminLayout client:load>
    <SupabaseAdmin client:load />
  </AdminLayout>
</Layout>