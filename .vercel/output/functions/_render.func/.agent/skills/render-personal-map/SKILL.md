## Name: Render Personal Map

## Description:
–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞ —Å–æ –≤—Å–µ–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –ø–æ –µ–≥–æ –∑–∞—è–≤–∫–µ

## Purpose:
–ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ—é –∫–∞—Ä—Ç—É, –Ω—É–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –µ—ë —Å —Ü–µ–Ω—Ç—Ä–æ–º –≤ —Ä–∞–π–æ–Ω–µ –µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, –º–∞—Ä–∫–µ—Ä–∞–º–∏ –≤—Å–µ—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏ –ø–æ–ø–∞–ø–∞–º–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

---

## –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï
–ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ—é –∫–∞—Ä—Ç—É, –Ω—É–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –µ—ë —Å:
- –¶–µ–Ω—Ç—Ä–æ–º –∫–∞—Ä—Ç—ã –≤ —Ä–∞–π–æ–Ω–µ –µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (Negombo, –Ω–∞–ø—Ä–∏–º–µ—Ä)
- –ú–∞—Ä–∫–µ—Ä–∞–º–∏ –≤—Å–µ—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —á—Ç–æ –ø—Ä–∏—à–ª–∏ –∏–º–µ–Ω–Ω–æ –Ω–∞ –µ–≥–æ –∑–∞—è–≤–∫—É
- –ü–æ–ø–∞–ø–∞–º–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –º–∞—Ä–∫–µ—Ä—É (—Ñ–æ—Ç–æ, —Ü–µ–Ω–∞, –∫–æ–Ω—Ç–∞–∫—Ç –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è)

## –ö–û–ì–î–ê –ó–ê–ü–£–°–ö–ê–ï–¢–°–Ø
–ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ —Å—Å—ã–ª–∫—É —Ç–∏–ø–∞: `https://unmissable.com/map/client_123?request=req_456`

## –ß–¢–û –ù–ê –í–•–û–î–ï
- `client_id` (–∫—Ç–æ —ç—Ç–æ)
- `request_id` (–∫–∞–∫–∞—è –∑–∞—è–≤–∫–∞)

## –ß–¢–û –ù–ê –í–´–•–û–î–ï
- HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ–π (Leaflet)
- –ù–∞ –∫–∞—Ä—Ç–µ –≤–∏–¥–Ω—ã –º–∞—Ä–∫–µ—Ä—ã –≤—Å–µ—Ö offers –¥–ª—è —ç—Ç–æ–π –∑–∞—è–≤–∫–∏

## –ß–¢–û –°–ò–°–¢–ï–ú–ê –î–ï–õ–ê–ï–¢

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
```javascript
const hasAccess = await checkClientAccess(client_id, request_id);
if (!hasAccess) throw new Error('Access denied');
```

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```javascript
const offers = await supabase
  .from('rental_offers')
  .select('*, properties(*), landlords(*)')
  .eq('request_id', request_id)
  .eq('status', 'ready_to_show');
```

### –®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
```javascript
const map = L.map('map').setView([centerLat, centerLng], 12);
```

### –®–∞–≥ 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤
```javascript
offers.forEach(offer => {
  const marker = L.marker([offer.property.lat, offer.property.lng])
    .bindPopup(createPopup(offer))
    .addTo(map);
});
```

### –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ø–∞–ø–∞
```html
<div class="property-popup">
  <img src="{photo}" />
  <h3>{property_name}</h3>
  <p>üí∞ ${price}/–Ω–æ—á—å</p>
  <p>üõèÔ∏è {bedrooms} —Å–ø–∞–ª–µ–Ω</p>
  <p>‚ú® {amenities}</p>
  <p>üë§ {landlord_name}</p>
  <a href="https://t.me/{landlord_telegram}">üí¨ –ù–∞–ø–∏—Å–∞—Ç—å</a>
</div>
```

## –í–ê–ñ–ù–´–ï –í–û–ü–†–û–°–´
- **Zoom level:** 12 (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–æ—Ä–æ–¥)
- **–¶–µ–Ω—Ç—Ä:** –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ offer –∏–ª–∏ –∑–∞–¥–∞–Ω–Ω—ã–π —Ä–∞–π–æ–Ω
- **–ü–æ–ø–∞–ø –¥–∞–Ω–Ω—ã–µ:** –§–æ—Ç–æ (200x150px), —Ü–µ–Ω–∞, —Å–ø–∞–ª—å–Ω–∏, –æ—Å–Ω–æ–≤–Ω—ã–µ —É–¥–æ–±—Å—Ç–≤–∞, –∫–æ–Ω—Ç–∞–∫—Ç
- **–ö–Ω–æ–ø–∫–∞ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è:** –î–∞, –≤–Ω–∏–∑—É –∫–∞—Ä—Ç—ã

## Expected Output
HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ä–∞–±–æ—Ç–∞—é—â–µ–π –∫–∞—Ä—Ç–æ–π Leaflet + –º–∞—Ä–∫–µ—Ä—ã + –ø–æ–ø–∞–ø—ã
