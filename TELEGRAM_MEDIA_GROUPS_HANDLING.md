# üì¶ –û–ë–†–ê–ë–û–¢–ö–ê MEDIA GROUPS –í TELEGRAM

**–î–∞—Ç–∞:** 2026-01-29  
**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—á–∫–∏ —Ñ–æ—Ç–æ (–¥–æ 10 —à—Ç—É–∫) –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º?

---

## üéØ –ß–¢–û –¢–ê–ö–û–ï MEDIA GROUP

### –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ç–æ:

```
Telegram –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
[–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ]
‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç 5 —Ñ–æ—Ç–æ
‚Üí –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"

Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:
–ù–ï 1 —Å–æ–æ–±—â–µ–Ω–∏–µ —Å 5 —Ñ–æ—Ç–æ ‚ùå
–ê 5 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å 1 —Ñ–æ—Ç–æ ‚úÖ
–ù–û —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º media_group_id!
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:

```javascript
// Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 5 —Å–æ–æ–±—â–µ–Ω–∏–π:

–°–æ–æ–±—â–µ–Ω–∏–µ 1:
{
  message_id: 101,
  photo: [photo_1],
  media_group_id: "12345678901234567"  ‚Üê –û–¥–∏–Ω–∞–∫–æ–≤—ã–π!
}

–°–æ–æ–±—â–µ–Ω–∏–µ 2:
{
  message_id: 102,
  photo: [photo_2],
  media_group_id: "12345678901234567"  ‚Üê –û–¥–∏–Ω–∞–∫–æ–≤—ã–π!
}

–°–æ–æ–±—â–µ–Ω–∏–µ 3:
{
  message_id: 103,
  photo: [photo_3],
  media_group_id: "12345678901234567"  ‚Üê –û–¥–∏–Ω–∞–∫–æ–≤—ã–π!
}

...–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
```

**–ö–ª—é—á:** `media_group_id` - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ç–æ –∏–∑ –≥—Ä—É–ø–ø—ã!

---

## üíª –ö–ê–ö –û–ë–†–ê–ë–û–¢–ê–¢–¨

### –†–ï–®–ï–ù–ò–ï: –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø–æ media_group_id

```javascript
// –•—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ–¥–∏–∞-–≥—Ä—É–ø–ø
const mediaGroups = {};
const mediaGroupTimers = {};

bot.on('message', async (msg) => {
  const userId = msg.from.id;
  const session = userSessions[userId];
  
  if (!session) return;
  
  // –ü–†–û–í–ï–†–ö–ê: —ç—Ç–æ —Ñ–æ—Ç–æ –∏–∑ –≥—Ä—É–ø–ø—ã?
  if (msg.photo && msg.media_group_id) {
    const groupId = msg.media_group_id;
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≥—Ä—É–ø–ø—É –µ—Å–ª–∏ –ø–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ
    if (!mediaGroups[groupId]) {
      mediaGroups[groupId] = [];
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ –≤ –≥—Ä—É–ø–ø—É
    const photoId = msg.photo[msg.photo.length - 1].file_id;
    const file = await bot.getFile(photoId);
    const photoUrl = `https://api.telegram.org/file/bot${BOT_TOKEN}/${file.file_path}`;
    
    mediaGroups[groupId].push(photoUrl);
    
    // –í–ê–ñ–ù–û: Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ –∏–∑ –≥—Ä—É–ø–ø—ã –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã)
    // –ù—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –ø–æ–∫–∞ –≤—Å–µ —Ñ–æ—Ç–æ –ø—Ä–∏–π–¥—É—Ç
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä (–µ—Å–ª–∏ —É–∂–µ –±—ã–ª)
    if (mediaGroupTimers[groupId]) {
      clearTimeout(mediaGroupTimers[groupId]);
    }
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π —Ç–∞–π–º–µ—Ä: –∂–¥—ë–º 1 —Å–µ–∫—É–Ω–¥—É –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ñ–æ—Ç–æ
    mediaGroupTimers[groupId] = setTimeout(async () => {
      // –í—Å–µ —Ñ–æ—Ç–æ –≥—Ä—É–ø–ø—ã –ø–æ–ª—É—á–µ–Ω—ã!
      const photos = mediaGroups[groupId];
      
      // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ñ–æ—Ç–æ –≤ —Å–µ—Å—Å–∏—é
      photos.forEach(photoUrl => {
        session.currentObject.addPhoto(photoUrl);
      });
      
      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
      await bot.sendMessage(msg.chat.id,
        `‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ ${photos.length} —Ñ–æ—Ç–æ!\n` +
        `üì∑ –í—Å–µ–≥–æ —Ñ–æ—Ç–æ –≤ –æ–±—ä–µ–∫—Ç–µ: ${session.currentObject.photos.length}`
      );
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
      await updateStatusMessage(bot, session);
      
      // –û—á–∏—â–∞–µ–º
      delete mediaGroups[groupId];
      delete mediaGroupTimers[groupId];
      
    }, 1000); // –ñ–¥—ë–º 1 —Å–µ–∫—É–Ω–¥—É –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ñ–æ—Ç–æ
    
    return;
  }
  
  // –û–±—ã—á–Ω–æ–µ –æ–¥–∏–Ω–æ—á–Ω–æ–µ —Ñ–æ—Ç–æ (–±–µ–∑ media_group_id)
  if (msg.photo && !msg.media_group_id) {
    const photoId = msg.photo[msg.photo.length - 1].file_id;
    const file = await bot.getFile(photoId);
    const photoUrl = `https://api.telegram.org/file/bot${BOT_TOKEN}/${file.file_path}`;
    
    session.currentObject.addPhoto(photoUrl);
    
    await bot.sendMessage(msg.chat.id,
      `‚úÖ –§–æ—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ!\n` +
      `üì∑ –í—Å–µ–≥–æ: ${session.currentObject.photos.length}`
    );
    
    await updateStatusMessage(bot, session);
    return;
  }
  
  // –û—Å—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (—Ç–µ–∫—Å—Ç, Google Maps)...
});
```

---

## üé¨ –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 5 —Ñ–æ—Ç–æ –≥—Ä—É–ø–ø–æ–π

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç 5 —Ñ–æ—Ç–æ ‚Üí –û—Ç–ø—Ä–∞–≤–∏—Ç—å
   ‚Üì
2. Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 5 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ ~100ms:
   
   t=0ms:   photo_1, media_group_id="ABC123"
   t=20ms:  photo_2, media_group_id="ABC123"
   t=40ms:  photo_3, media_group_id="ABC123"
   t=60ms:  photo_4, media_group_id="ABC123"
   t=80ms:  photo_5, media_group_id="ABC123"
   ‚Üì
3. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:
   
   mediaGroups["ABC123"] = []
   
   –ü–æ–ª—É—á–∏–ª photo_1 ‚Üí mediaGroups["ABC123"] = [photo_1]
   ‚Üí –ó–∞–ø—É—Å—Ç–∏–ª —Ç–∞–π–º–µ—Ä 1 —Å–µ–∫—É–Ω–¥–∞
   
   –ü–æ–ª—É—á–∏–ª photo_2 ‚Üí mediaGroups["ABC123"] = [photo_1, photo_2]
   ‚Üí –°–±—Ä–æ—Å–∏–ª –∏ –∑–∞–ø—É—Å—Ç–∏–ª —Ç–∞–π–º–µ—Ä –∑–∞–Ω–æ–≤–æ
   
   –ü–æ–ª—É—á–∏–ª photo_3 ‚Üí mediaGroups["ABC123"] = [photo_1, photo_2, photo_3]
   ‚Üí –°–±—Ä–æ—Å–∏–ª –∏ –∑–∞–ø—É—Å—Ç–∏–ª —Ç–∞–π–º–µ—Ä –∑–∞–Ω–æ–≤–æ
   
   –ü–æ–ª—É—á–∏–ª photo_4 ‚Üí mediaGroups["ABC123"] = [photo_1, photo_2, photo_3, photo_4]
   ‚Üí –°–±—Ä–æ—Å–∏–ª –∏ –∑–∞–ø—É—Å—Ç–∏–ª —Ç–∞–π–º–µ—Ä –∑–∞–Ω–æ–≤–æ
   
   –ü–æ–ª—É—á–∏–ª photo_5 ‚Üí mediaGroups["ABC123"] = [photo_1, ..., photo_5]
   ‚Üí –°–±—Ä–æ—Å–∏–ª –∏ –∑–∞–ø—É—Å—Ç–∏–ª —Ç–∞–π–º–µ—Ä –∑–∞–Ω–æ–≤–æ
   ‚Üì
4. –ü—Ä–æ—à–ª–∞ 1 —Å–µ–∫—É–Ω–¥–∞ –ø–æ—Å–ª–µ photo_5 (–±–æ–ª—å—à–µ —Ñ–æ—Ç–æ –Ω–µ—Ç)
   ‚Üí –¢–∞–π–º–µ—Ä —Å—Ä–∞–±–æ—Ç–∞–ª
   ‚Üì
5. –ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ 5 —Ñ–æ—Ç–æ —Å—Ä–∞–∑—É:
   
   session.currentObject.photos = [photo_1, photo_2, photo_3, photo_4, photo_5]
   ‚Üì
6. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ:
   
   "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 5 —Ñ–æ—Ç–æ!
    üì∑ –í—Å–µ–≥–æ —Ñ–æ—Ç–æ –≤ –æ–±—ä–µ–∫—Ç–µ: 5"
   ‚Üì
7. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å:
   
   üìä –°—Ç–∞—Ç—É—Å:
   ‚úÖ –§–æ—Ç–æ (5)
   ‚¨ú Google Maps —Å—Å—ã–ª–∫–∞
   ‚¨ú –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
```

---

## üìä –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –≠–¢–û–ì–û –ü–û–î–•–û–î–ê

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ì—Ä—É–ø–ø–∞ —Ñ–æ—Ç–æ ‚Üí –æ–¥–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**
   ```
   –í–º–µ—Å—Ç–æ 5 —Å–æ–æ–±—â–µ–Ω–∏–π "‚úÖ –§–æ—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ!"
   –û–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 5 —Ñ–æ—Ç–æ!"
   ```

2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç**
   ```
   –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ñ–æ—Ç–æ
   –ù–µ –ø—Ä—ã–≥–∞–µ—Ç: 1, 2, 3, 4, 5...
   –°—Ä–∞–∑—É: 5!
   ```

3. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π**
   ```
   5 —Ñ–æ—Ç–æ –≥—Ä—É–ø–ø–æ–π ‚Üí ‚úÖ
   1 —Ñ–æ—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ ‚Üí ‚úÖ
   3 —Ñ–æ—Ç–æ –≥—Ä—É–ø–ø–æ–π + 2 –æ—Ç–¥–µ–ª—å–Ω–æ ‚Üí ‚úÖ
   ```

4. **–ù–µ —Ç–µ—Ä—è–µ—Ç —Ñ–æ—Ç–æ**
   ```
   –î–∞–∂–µ –µ—Å–ª–∏ —Ñ–æ—Ç–æ –ø—Ä–∏—Ö–æ–¥—è—Ç –º–µ–¥–ª–µ–Ω–Ω–æ (–ø–ª–æ—Ö–æ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
   –¢–∞–π–º–µ—Ä –ø–æ–¥–æ–∂–¥—ë—Ç –≤—Å–µ —Ñ–æ—Ç–æ
   ```

---

## üîß –£–õ–£–ß–®–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø

### –° –≤–∏–∑—É–∞–ª—å–Ω—ã–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∑–∫–∏:

```javascript
bot.on('message', async (msg) => {
  if (msg.photo && msg.media_group_id) {
    const groupId = msg.media_group_id;
    
    if (!mediaGroups[groupId]) {
      mediaGroups[groupId] = {
        photos: [],
        firstMessageId: null
      };
      
      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      const loadingMsg = await bot.sendMessage(msg.chat.id,
        'üì§ –ü–æ–ª—É—á–∞—é —Ñ–æ—Ç–æ...'
      );
      mediaGroups[groupId].firstMessageId = loadingMsg.message_id;
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ
    const photoUrl = await getPhotoUrl(msg.photo);
    mediaGroups[groupId].photos.push(photoUrl);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
    await bot.editMessageText(
      `üì§ –ü–æ–ª—É—á–∞—é —Ñ–æ—Ç–æ... (${mediaGroups[groupId].photos.length})`,
      {
        chat_id: msg.chat.id,
        message_id: mediaGroups[groupId].firstMessageId
      }
    );
    
    // –¢–∞–π–º–µ—Ä
    clearTimeout(mediaGroupTimers[groupId]);
    mediaGroupTimers[groupId] = setTimeout(async () => {
      const photos = mediaGroups[groupId].photos;
      
      // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–µ—Å—Å–∏—é
      photos.forEach(url => session.currentObject.addPhoto(url));
      
      // –£–¥–∞–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      await bot.deleteMessage(msg.chat.id, mediaGroups[groupId].firstMessageId);
      
      // –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
      await bot.sendMessage(msg.chat.id,
        `‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ ${photos.length} —Ñ–æ—Ç–æ!\n` +
        `üì∑ –í—Å–µ–≥–æ –≤ –æ–±—ä–µ–∫—Ç–µ: ${session.currentObject.photos.length}`
      );
      
      await updateStatusMessage(bot, session);
      
      delete mediaGroups[groupId];
      delete mediaGroupTimers[groupId];
    }, 1000);
  }
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 5 —Ñ–æ—Ç–æ]

–ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
"üì§ –ü–æ–ª—É—á–∞—é —Ñ–æ—Ç–æ... (1)"
"üì§ –ü–æ–ª—É—á–∞—é —Ñ–æ—Ç–æ... (2)"
"üì§ –ü–æ–ª—É—á–∞—é —Ñ–æ—Ç–æ... (3)"
"üì§ –ü–æ–ª—É—á–∞—é —Ñ–æ—Ç–æ... (4)"
"üì§ –ü–æ–ª—É—á–∞—é —Ñ–æ—Ç–æ... (5)"

[–ß–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É]

"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 5 —Ñ–æ—Ç–æ!
 üì∑ –í—Å–µ–≥–æ –≤ –æ–±—ä–µ–∫—Ç–µ: 5"
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´

### 1. –¢–∞–π–º–µ—Ä = 1 —Å–µ–∫—É–Ω–¥–∞

```javascript
// –ü–æ—á–µ–º—É 1 —Å–µ–∫—É–Ω–¥–∞?
// - Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ –≥—Ä—É–ø–ø—ã –∑–∞ 50-200ms
// - 1 —Å–µ–∫—É–Ω–¥–∞ = –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∑–∞–ø–∞—Å
// - –ù–µ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

setTimeout(..., 1000); // ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω–æ

// –°–ª–∏—à–∫–æ–º –º–∞–ª–æ:
setTimeout(..., 100);  // ‚ùå –ú–æ–∂–µ—Ç –Ω–µ —É—Å–ø–µ—Ç—å –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ñ–æ—Ç–æ

// –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ:
setTimeout(..., 5000); // ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –¥–æ–ª–≥–æ
```

### 2. –û—á–∏—Å—Ç–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤

```javascript
// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ—á–∏—â–∞—Ç—å —Å—Ç–∞—Ä—ã–π —Ç–∞–π–º–µ—Ä!
if (mediaGroupTimers[groupId]) {
  clearTimeout(mediaGroupTimers[groupId]);
}

// –ò–Ω–∞—á–µ –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
```

### 3. –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏

```javascript
// –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–¥–∞–ª—è—Ç—å
delete mediaGroups[groupId];
delete mediaGroupTimers[groupId];

// –ò–Ω–∞—á–µ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥—Ä—É–ø–ø
```

### 4. –õ–∏–º–∏—Ç —Ñ–æ—Ç–æ –≤ –≥—Ä—É–ø–ø–µ

```javascript
// Telegram –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –º–∞–∫—Å–∏–º—É–º 10 —Ñ–æ—Ç–æ –≤ –≥—Ä—É–ø–ø–µ
// –ù–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –ª–∏–º–∏—Ç:

if (mediaGroups[groupId].photos.length >= 10) {
  await bot.sendMessage(msg.chat.id,
    '‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç 10 —Ñ–æ—Ç–æ –≤ –≥—Ä—É–ø–ø–µ!\n' +
    '–û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ –Ω–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã.'
  );
  return;
}
```

---

## üì± –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –ü—Ä–∏–º–µ—Ä 1: –û–¥–Ω–∞ –≥—Ä—É–ø–ø–∞ 5 —Ñ–æ—Ç–æ

```
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç 5 —Ñ–æ—Ç–æ ‚Üí –û—Ç–ø—Ä–∞–≤–∏—Ç—å]

Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:
msg1: photo_1, media_group_id="ABC"
msg2: photo_2, media_group_id="ABC"
msg3: photo_3, media_group_id="ABC"
msg4: photo_4, media_group_id="ABC"
msg5: photo_5, media_group_id="ABC"

–ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:
‚Üí –ù–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –≤—Å–µ 5 —Ñ–æ—Ç–æ
‚Üí –ß–µ—Ä–µ–∑ 1 —Å–µ–∫: –¥–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ 5 —Å—Ä–∞–∑—É
‚Üí "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 5 —Ñ–æ—Ç–æ! –í—Å–µ–≥–æ: 5"
```

### –ü—Ä–∏–º–µ—Ä 2: –î–≤–µ –≥—Ä—É–ø–ø—ã –ø–æ 3 —Ñ–æ—Ç–æ

```
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 3 —Ñ–æ—Ç–æ ‚Üí –û—Ç–ø—Ä–∞–≤–∏—Ç—å]

msg1: photo_1, media_group_id="ABC"
msg2: photo_2, media_group_id="ABC"
msg3: photo_3, media_group_id="ABC"

‚Üí –ë–æ—Ç: "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 3 —Ñ–æ—Ç–æ! –í—Å–µ–≥–æ: 3"

[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ—â—ë 3 —Ñ–æ—Ç–æ ‚Üí –û—Ç–ø—Ä–∞–≤–∏—Ç—å]

msg4: photo_4, media_group_id="XYZ"  ‚Üê –ù–æ–≤—ã–π ID!
msg5: photo_5, media_group_id="XYZ"
msg6: photo_6, media_group_id="XYZ"

‚Üí –ë–æ—Ç: "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 3 —Ñ–æ—Ç–æ! –í—Å–µ–≥–æ: 6"
```

### –ü—Ä–∏–º–µ—Ä 3: –ì—Ä—É–ø–ø–∞ + –æ–¥–∏–Ω–æ—á–Ω—ã–µ

```
[5 —Ñ–æ—Ç–æ –≥—Ä—É–ø–ø–æ–π]
‚Üí "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 5 —Ñ–æ—Ç–æ! –í—Å–µ–≥–æ: 5"

[1 —Ñ–æ—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ]
‚Üí "‚úÖ –§–æ—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ! –í—Å–µ–≥–æ: 6"

[1 —Ñ–æ—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ]
‚Üí "‚úÖ –§–æ—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ! –í—Å–µ–≥–æ: 7"

[3 —Ñ–æ—Ç–æ –≥—Ä—É–ø–ø–æ–π]
‚Üí "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 3 —Ñ–æ—Ç–æ! –í—Å–µ–≥–æ: 10"

–§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å:
‚úÖ –§–æ—Ç–æ (10)
```

---

## ‚úÖ –ò–¢–û–ì–û

### –î–∞, –ø–∞—á–∫–∏ —Ñ–æ—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ

**–ö–∞–∫:**
1. Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º `media_group_id`
2. –ë–æ—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –≤—Å–µ —Ñ–æ—Ç–æ –ø–æ —ç—Ç–æ–º—É ID
3. –¢–∞–π–º–µ—Ä (1 —Å–µ–∫) –∂–¥—ë—Ç –ø–æ–∫–∞ –≤—Å–µ —Ñ–æ—Ç–æ –ø—Ä–∏–π–¥—É—Ç
4. –ü–æ—Å–ª–µ —Ç–∞–π–º–µ—Ä–∞ - –¥–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ —Ñ–æ—Ç–æ —Å—Ä–∞–∑—É
5. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–¥–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

**–õ–∏–º–∏—Ç—ã:**
- Telegram: –º–∞–∫—Å–∏–º—É–º 10 —Ñ–æ—Ç–æ –≤ –≥—Ä—É–ø–ø–µ
- –ù–∞—à –ª–∏–º–∏—Ç: –º–æ–∂–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä 10 –Ω–∞ –æ–±—ä–µ–∫—Ç)

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:**
‚úÖ –ì—Ä—É–ø–ø—ã —Ñ–æ—Ç–æ (2-10 —à—Ç—É–∫)  
‚úÖ –û–¥–∏–Ω–æ—á–Ω—ã–µ —Ñ–æ—Ç–æ  
‚úÖ –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ (–≥—Ä—É–ø–ø–∞ + –æ–¥–∏–Ω–æ—á–Ω—ã–µ)  
‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ –≥—Ä—É–ø–ø –ø–æ–¥—Ä—è–¥

**–ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!** üöÄ

---

**–í—Å—ë –ø–æ–Ω—è—Ç–Ω–æ –ø–æ media groups?** üì¶
