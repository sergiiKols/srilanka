# üîÆ –ë–£–î–£–©–ò–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –¥–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π

**–î–∞—Ç–∞:** 2026-01-29  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è (–Ω–µ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (–∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å –ø–æ—Ç–æ–º)

---

## üéØ –ö–û–ù–¶–ï–ü–¶–ò–Ø

### –ß—Ç–æ –¥–µ–ª–∞–µ–º —Å–µ–π—á–∞—Å:
**–ê–†–ï–ù–î–ê–¢–û–†–´ (tenants)** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ –ª–∏—á–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é (–∑–∞–ø–∏—Å–Ω–∞—è –∫–Ω–∏–∂–∫–∞).

### –ß—Ç–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ –±—É–¥—É—â–µ–º:
**–ê–†–ï–ù–î–û–î–ê–¢–ï–õ–ò (landlords)** —Å–º–æ–≥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–º–µ—â–∞—Ç—å —Å–≤–æ–∏ –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.

---

## üîÑ –î–í–ê –¢–ò–ü–ê –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô

### –°–µ–π—á–∞—Å —Ä–µ–∞–ª–∏–∑—É–µ–º: –ê–†–ï–ù–î–ê–¢–û–†–´

```
–ê–†–ï–ù–î–ê–¢–û–† (tenant)
    ‚Üì
–ò—â–µ—Ç –∂–∏–ª—å—ë –¥–ª—è —Å–µ–±—è
    ‚Üì
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞
    ‚Üì
–í–∏–¥–∏—Ç –Ω–∞ –õ–ò–ß–ù–û–ô –∫–∞—Ä—Ç–µ (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –æ–±—ä–µ–∫—Ç—ã)
    ‚Üì
–ù–∏–∫—Ç–æ –¥—Ä—É–≥–æ–π –Ω–µ –≤–∏–¥–∏—Ç –µ–≥–æ –æ–±—ä–µ–∫—Ç—ã
```

**–¢–∞–±–ª–∏—Ü–∞:** `tenants` + `saved_properties`  
**–í–∏–¥–∏–º–æ—Å—Ç—å:** –ü—Ä–∏–≤–∞—Ç–Ω–∞—è (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü)  
**–¶–µ–ª—å:** –ó–∞–ø–∏—Å–Ω–∞—è –∫–Ω–∏–∂–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∂–∏–ª—å—è

---

### –í –±—É–¥—É—â–µ–º –¥–æ–±–∞–≤–∏–º: –ê–†–ï–ù–î–û–î–ê–¢–ï–õ–ò

```
–ê–†–ï–ù–î–û–î–ê–¢–ï–õ–¨ (landlord)
    ‚Üì
–•–æ—á–µ—Ç —Å–¥–∞—Ç—å —Å–≤–æ—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
    ‚Üì
–†–∞–∑–º–µ—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ –±–æ—Ç–∞
    ‚Üì
–û–±—ä–µ–∫—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –ü–£–ë–õ–ò–ß–ù–û–ô –∫–∞—Ä—Ç–µ
    ‚Üì
–í–°–ï –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –µ–≥–æ –æ–±—ä–µ–∫—Ç—ã
    ‚Üì
–ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —Å–≤—è–∑–∞—Ç—å—Å—è —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º
```

**–¢–∞–±–ª–∏—Ü–∞:** `landlords` + `public_properties`  
**–í–∏–¥–∏–º–æ—Å—Ç—å:** –ü—É–±–ª–∏—á–Ω–∞—è (–≤—Å–µ –≤–∏–¥—è—Ç)  
**–¶–µ–ª—å:** –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π

---

## üóÑÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–¥–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤):

```sql
-- –ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä—ã
CREATE TABLE tenants (
  id UUID PRIMARY KEY,
  telegram_user_id BIGINT UNIQUE NOT NULL,
  personal_map_url TEXT UNIQUE,
  saved_properties_count INT DEFAULT 0
);

-- –õ–∏—á–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤
CREATE TABLE saved_properties (
  id UUID PRIMARY KEY,
  tenant_id UUID REFERENCES tenants(id),
  telegram_user_id BIGINT NOT NULL,
  
  -- –î–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞
  photos TEXT[],
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8),
  description TEXT,
  price DECIMAL(10, 2),
  
  -- –í–∏–¥–∏–º–æ—Å—Ç—å: –ü–†–ò–í–ê–¢–ù–ê–Ø
  visibility TEXT DEFAULT 'private',
  
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

### –ë—É–¥—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (+ –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–∏):

```sql
-- –ù–û–í–ê–Ø –¢–ê–ë–õ–ò–¶–ê: –ê—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–∏
CREATE TABLE landlords (
  id UUID PRIMARY KEY,
  telegram_user_id BIGINT UNIQUE NOT NULL,
  username TEXT,
  first_name TEXT,
  
  -- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
  is_verified BOOLEAN DEFAULT false,
  verification_date TIMESTAMPTZ,
  
  -- –ö–æ–Ω—Ç–∞–∫—Ç—ã
  phone TEXT,
  email TEXT,
  
  -- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  properties_count INT DEFAULT 0,
  rating DECIMAL(3, 2) DEFAULT 0,
  reviews_count INT DEFAULT 0,
  
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- –ù–û–í–ê–Ø –¢–ê–ë–õ–ò–¶–ê: –ü—É–±–ª–∏—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –æ—Ç –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π
CREATE TABLE public_properties (
  id UUID PRIMARY KEY,
  landlord_id UUID REFERENCES landlords(id),
  telegram_user_id BIGINT NOT NULL,
  
  -- –î–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ saved_properties)
  title TEXT NOT NULL,
  description TEXT,
  photos TEXT[],
  latitude DECIMAL(10, 8) NOT NULL,
  longitude DECIMAL(11, 8) NOT NULL,
  google_maps_url TEXT,
  
  -- –î–µ—Ç–∞–ª–∏
  property_type TEXT,
  bedrooms INT,
  bathrooms INT,
  price DECIMAL(10, 2),
  currency TEXT DEFAULT 'USD',
  price_period TEXT, -- 'month', 'night', 'year'
  
  -- –ö–æ–Ω—Ç–∞–∫—Ç—ã
  contact_phone TEXT,
  contact_name TEXT,
  
  -- –í–∏–¥–∏–º–æ—Å—Ç—å: –ü–£–ë–õ–ò–ß–ù–ê–Ø
  visibility TEXT DEFAULT 'public',
  
  -- –ú–æ–¥–µ—Ä–∞—Ü–∏—è
  status TEXT DEFAULT 'pending', -- 'pending', 'approved', 'rejected'
  moderation_notes TEXT,
  moderated_at TIMESTAMPTZ,
  moderated_by UUID,
  
  -- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  views_count INT DEFAULT 0,
  contacts_count INT DEFAULT 0, -- —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∑–∞–ø—Ä–æ—Å–∏–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã
  
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  expires_at TIMESTAMPTZ -- —Å—Ä–æ–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–π –∫–∞—Ä—Ç—ã
CREATE INDEX idx_public_props_location ON public_properties(latitude, longitude);
CREATE INDEX idx_public_props_status ON public_properties(status);
CREATE INDEX idx_public_props_price ON public_properties(price);
```

---

## üöÄ –ë–£–î–£–©–ò–ô FLOW –î–õ–Ø –ê–†–ï–ù–î–û–î–ê–¢–ï–õ–ï–ô

### –ü—Ä–∏ –ø–µ—Ä–≤–æ–º /start:

```
üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!

–ö—Ç–æ —Ç—ã?

[üè† –Ø —Å–¥–∞—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å]  ‚Üê Landlord
[üîç –Ø –∏—â—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å]   ‚Üê Tenant
```

### –ï—Å–ª–∏ –≤—ã–±—Ä–∞–ª "–Ø —Å–¥–∞—é":

```
üè† –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è

–î–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞–º –Ω—É–∂–Ω–æ:

1Ô∏è‚É£ –¢–≤–æ–π –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
2Ô∏è‚É£ –ò–º—è –¥–ª—è —Å–≤—è–∑–∏

–≠—Ç–æ –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä—ã –º–æ–≥–ª–∏ —Å —Ç–æ–±–æ–π —Å–≤—è–∑–∞—Ç—å—Å—è.

[üì± –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç]  [‚ùå –û—Ç–º–µ–Ω–∞]
```

### –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞:

```
üì§ –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ

–¢–≤–æ–π –æ–±—ä–µ–∫—Ç —É–≤–∏–¥—è—Ç –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏!

üìä –°—Ç–∞—Ç—É—Å:
‚¨ú –§–æ—Ç–æ (0)
‚¨ú Google Maps —Å—Å—ã–ª–∫–∞
‚¨ú –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
‚¨ú –¶–µ–Ω–∞ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã

[‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å] [‚ûï –ï—â—ë –æ–±—ä–µ–∫—Ç] [‚ùå –û—Ç–º–µ–Ω–∞]
```

### –ü–æ—Å–ª–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:

```
‚úÖ –û–±—ä–µ–∫—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é!

‚è≥ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –¥–æ 24 —á–∞—Å–æ–≤.

–ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π –∫–∞—Ä—Ç–µ 
–∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

–¢—ã –ø–æ–ª—É—á–∏—à—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç –æ–¥–æ–±—Ä–µ–Ω.

[üó∫Ô∏è –ú–æ–∏ –æ–±—ä–µ–∫—Ç—ã]  [üì§ –î–æ–±–∞–≤–∏—Ç—å –µ—â—ë]
```

---

## üé® –û–¢–õ–ò–ß–ò–Ø –í UI

### –î–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ (—Å–µ–π—á–∞—Å):
```
üì§ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞

–≠—Ç–æ –õ–ò–ß–ù–ê–Ø –∑–∞–ø–∏—Å–Ω–∞—è –∫–Ω–∏–∂–∫–∞.
–¢–æ–ª—å–∫–æ —Ç—ã –≤–∏–¥–∏—à—å —Å–≤–æ–∏ –æ–±—ä–µ–∫—Ç—ã.

–°—Ç–∞—Ç—É—Å:
‚¨ú –§–æ—Ç–æ
‚¨ú Google Maps
‚¨ú –û–ø–∏—Å–∞–Ω–∏–µ

[‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å]  [‚ûï –ï—â—ë –æ–±—ä–µ–∫—Ç]
```

### –î–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π (–±—É–¥—É—â–µ–µ):
```
üì§ –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

–≠—Ç–æ –±—É–¥–µ—Ç –ü–£–ë–õ–ò–ß–ù–û–ï –æ–±—ä—è–≤–ª–µ–Ω–∏–µ.
–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –µ–≥–æ —É–≤–∏–¥–µ—Ç—å.

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
‚¨ú –§–æ—Ç–æ
‚¨ú Google Maps
‚¨ú –û–ø–∏—Å–∞–Ω–∏–µ
‚¨ú –¶–µ–Ω–∞
‚¨ú –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏

[‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å]  [üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä]
```

---

## üîí –ú–û–î–ï–†–ê–¶–ò–Ø

### –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—è:

1. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ç–æ (–Ω–µ—Ç —Å–ø–∞–º–∞, –ø–æ—Ä–Ω–æ, etc)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è (–Ω–µ—Ç –∑–∞–ø—Ä–µ—â—ë–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

2. **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞:**
   - –õ–∏–º–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤ –¥–µ–Ω—å
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
   - –ë–∞–Ω –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è

3. **–î–æ–≤–µ—Ä–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:**
   - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π
   - –†–µ–π—Ç–∏–Ω–≥–∏ –∏ –æ—Ç–∑—ã–≤—ã
   - –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫

### –ü—Ä–æ—Ü–µ—Å—Å –º–æ–¥–µ—Ä–∞—Ü–∏–∏:

```
Landlord ‚Üí –†–∞–∑–º–µ—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç
    ‚Üì
–°—Ç–∞—Ç—É—Å: "pending" (–Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏)
    ‚Üì
–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç (24h)
    ‚Üì
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ                   ‚îÇ
–û–¥–æ–±—Ä–µ–Ω–æ          –û—Ç–∫–ª–æ–Ω–µ–Ω–æ
  ‚îÇ                   ‚îÇ
–°—Ç–∞—Ç—É—Å: "approved"  –°—Ç–∞—Ç—É—Å: "rejected"
  ‚îÇ                   ‚îÇ
–ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞      –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
–ø—É–±–ª–∏—á–Ω–æ–π –∫–∞—Ä—Ç–µ    —Å –ø—Ä–∏—á–∏–Ω–æ–π
```

---

## üìä –î–í–ï –ö–ê–†–¢–´

### 1. –õ–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞ (—Å–µ–π—á–∞—Å):

```
URL: /map/{telegram_user_id}
–í–∏–¥–∏–º–æ—Å—Ç—å: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü
–ò—Å—Ç–æ—á–Ω–∏–∫: saved_properties (WHERE telegram_user_id = X)
–§–∏–ª—å—Ç—Ä: visibility = 'private'
```

**–ü—Ä–∏–º–µ—Ä:** https://site.com/map/1000089271  
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã —ç—Ç–æ–≥–æ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞.

### 2. –ü—É–±–ª–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ (–±—É–¥—É—â–µ–µ):

```
URL: /map/public
–í–∏–¥–∏–º–æ—Å—Ç—å: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
–ò—Å—Ç–æ—á–Ω–∏–∫: public_properties (WHERE status = 'approved')
–§–∏–ª—å—Ç—Ä: visibility = 'public'
```

**–ü—Ä–∏–º–µ—Ä:** https://site.com/map/public  
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –æ—Ç –≤—Å–µ—Ö –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π.

**–§—É–Ω–∫—Ü–∏–∏:**
- –§–∏–ª—å—Ç—Ä—ã (—Ü–µ–Ω–∞, —Ç–∏–ø, —Ä–µ–≥–∏–æ–Ω)
- –ü–æ–∏—Å–∫
- –ö–æ–Ω—Ç–∞–∫—Ç—ã –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–∫–Ω–æ–ø–∫–∞ "–°–≤—è–∑–∞—Ç—å—Å—è")
- –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏

---

## üîÑ –ö–û–ù–í–ï–†–¢–ê–¶–ò–Ø

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ –±—É–¥—É—â–µ–º:

```
–ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä —Å–æ—Ö—Ä–∞–Ω–∏–ª –æ–±—ä–µ–∫—Ç –≤ –ª–∏—á–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é
    ‚Üì
–†–µ—à–∏–ª —Å—Ç–∞—Ç—å –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–º
    ‚Üì
–ú–æ–∂–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –ª–∏—á–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤ –ø—É–±–ª–∏—á–Ω—ã–π

[üîÑ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç]
    ‚Üì
–û–±—ä–µ–∫—Ç –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ public_properties
    ‚Üì
–ü—Ä–æ—Ö–æ–¥–∏—Ç –º–æ–¥–µ—Ä–∞—Ü–∏—é
    ‚Üì
–ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π –∫–∞—Ä—Ç–µ
```

---

## üõ†Ô∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (–ü–†–ê–í–ò–õ–¨–ù–û)

```
saved_properties (private) ‚Üê –î–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤
public_properties (public) ‚Üê –î–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π
```

**–ü–æ—á–µ–º—É –Ω–µ –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞:**
- ‚úÖ –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ/–ø—É–±–ª–∏—á–Ω–æ–≥–æ
- ‚úÖ –†–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–æ–ª—è–º (–ø—É–±–ª–∏—á–Ω—ã–µ —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ –†–∞–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –†–∞–∑–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```
tenants ‚Üê –ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä—ã (–∏—â—É—Ç)
landlords ‚Üê –ê—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–∏ (—Å–¥–∞—é—Ç)
```

**–ü–æ—á–µ–º—É –Ω–µ –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞:**
- ‚úÖ –†–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (landlords —Ç—Ä–µ–±—É—é—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é)
- ‚úÖ –†–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –û–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ tenant –∏ landlord –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### 3. User –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ tenant –∏ landlord

```sql
CREATE TABLE users (
  id UUID PRIMARY KEY,
  telegram_user_id BIGINT UNIQUE NOT NULL,
  
  -- –†–æ–ª–∏
  is_tenant BOOLEAN DEFAULT false,
  is_landlord BOOLEAN DEFAULT false,
  
  tenant_id UUID REFERENCES tenants(id),
  landlord_id UUID REFERENCES landlords(id)
);
```

**–ü—Ä–∏–º–µ—Ä:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—â–µ—Ç –∫–≤–∞—Ä—Ç–∏—Ä—É –¥–ª—è —Å–µ–±—è (tenant)
- –ò —Å–¥–∞—ë—Ç —Å–≤–æ—é –≤–∏–ª–ª—É (landlord)
- –û–±–µ —Ä–æ–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

---

## üì± API ENDPOINTS (–±—É–¥—É—â–∏–µ)

### –î–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ (–µ—Å—Ç—å —Å–µ–π—á–∞—Å):
```
POST /api/tenant/save-property
GET  /api/tenant/properties/{telegram_user_id}
PUT  /api/tenant/property/{id}
DELETE /api/tenant/property/{id}
```

### –î–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π (–±—É–¥—É—â–∏–µ):
```
POST /api/landlord/create-property
GET  /api/landlord/properties/{telegram_user_id}
PUT  /api/landlord/property/{id}
DELETE /api/landlord/property/{id}
GET  /api/landlord/property/{id}/stats

POST /api/landlord/verify
GET  /api/landlord/profile
```

### –ü—É–±–ª–∏—á–Ω—ã–µ (–±—É–¥—É—â–∏–µ):
```
GET  /api/public/properties (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
GET  /api/public/property/{id}
POST /api/public/property/{id}/contact (–∑–∞–ø—Ä–æ—Å –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤)
POST /api/public/property/{id}/review (–æ—Ç–∑—ã–≤)
GET  /api/public/property/{id}/reviews
```

---

## üö¶ –≠–¢–ê–ü–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠–¢–ê–ü 1: –°–ï–ô–ß–ê–° (MVP –¥–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤)
‚úÖ –¢–∞–±–ª–∏—Ü–∞ `tenants`  
‚úÖ –¢–∞–±–ª–∏—Ü–∞ `saved_properties`  
‚úÖ –ë–æ—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤  
‚úÖ –õ–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ `/map/{user_id}`  
‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ª–∏—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

### –≠–¢–ê–ü 2: –ë–£–î–£–©–ï–ï (–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π)
‚è≥ –¢–∞–±–ª–∏—Ü–∞ `landlords`  
‚è≥ –¢–∞–±–ª–∏—Ü–∞ `public_properties`  
‚è≥ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–∫ landlord  
‚è≥ –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤  
‚è≥ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π  
‚è≥ –ü—É–±–ª–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ `/map/public`

### –≠–¢–ê–ü 3: –†–ê–°–®–ò–†–ï–ù–ò–ï (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
‚è≥ –†–µ–π—Ç–∏–Ω–≥–∏ –∏ –æ—Ç–∑—ã–≤—ã  
‚è≥ –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
‚è≥ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É  
‚è≥ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö  
‚è≥ –ß–∞—Ç –º–µ–∂–¥—É –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–º –∏ –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–º

---

## üéØ –¢–ï–ö–£–©–ò–ô –§–û–ö–£–°

**–°–ï–ô–ß–ê–° –î–ï–õ–ê–ï–ú –¢–û–õ–¨–ö–û:**
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ (tenant)
- ‚úÖ –õ–∏—á–Ω—É—é –∫–∞—Ä—Ç—É (private)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

**–ù–ï –î–ï–õ–ê–ï–ú –°–ï–ô–ß–ê–°:**
- ‚ùå –ü—É–±–ª–∏—á–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
- ‚ùå –ú–æ–¥–µ—Ä–∞—Ü–∏—é
- ‚ùå –ê—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π (landlords)
- ‚ùå –ü—É–±–ª–∏—á–Ω—É—é –∫–∞—Ä—Ç—É

---

## üí° –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–¢–ö–ò –î–õ–Ø –ë–£–î–£–©–ï–ì–û

### 1. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–¥–∞

–¢–µ–∫—É—â–∏–π –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é:

```javascript
// –°–ï–ô–ß–ê–°: —Ç–æ–ª—å–∫–æ tenants
class AddingSession {
  constructor(userId, userType = 'tenant') {
    this.userId = userId;
    this.userType = userType; // 'tenant' –∏–ª–∏ 'landlord'
    this.visibility = userType === 'tenant' ? 'private' : 'public';
  }
}

// –í –ë–£–î–£–©–ï–ú: –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å landlords
if (userType === 'landlord') {
  // –¢—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (—Ü–µ–Ω–∞, –∫–æ–Ω—Ç–∞–∫—Ç—ã)
  // –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é
  // –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π –∫–∞—Ä—Ç–µ
}
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é

```sql
-- –í saved_properties —É–∂–µ –µ—Å—Ç—å –ø–æ–ª–µ visibility
visibility TEXT DEFAULT 'private'

-- –ú–æ–∂–Ω–æ –±—É–¥–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å public_properties 
-- —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
```

### 3. API endpoints —Å —É—á—ë—Ç–æ–º –±—É–¥—É—â–µ–≥–æ

```
/api/tenant/*  ‚Üê –¥–ª—è –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤
/api/landlord/* ‚Üê –¥–ª—è –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π (–±—É–¥—É—â–µ–µ)
/api/public/*  ‚Üê –ø—É–±–ª–∏—á–Ω–æ–µ API (–±—É–¥—É—â–µ–µ)
```

---

## ‚úÖ –ò–¢–û–ì–û

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ –§–æ–∫—É—Å –Ω–∞ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞—Ö (tenant)
- ‚úÖ –õ–∏—á–Ω–∞—è –∑–∞–ø–∏—Å–Ω–∞—è –∫–Ω–∏–∂–∫–∞
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π flow –±–µ–∑ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

### –ë—É–¥—É—â–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:
- ‚è≥ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π (landlord)
- ‚è≥ –ü—É–±–ª–∏—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚è≥ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚è≥ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞:
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ tenant/landlord –≤ –∫–æ–¥–µ
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ private/public –≤ –ë–î
- ‚úÖ API —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç –±—É–¥—É—â–µ–µ
- ‚úÖ –ö–æ–¥ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è

---

**–í—Å—ë —É—á—Ç–µ–Ω–æ! –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –±—É–¥—É—â–µ–º—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é!** üöÄ

**–°–µ–π—á–∞—Å —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞—Ö, –Ω–æ –∫–æ–¥ –ø–∏—à–µ–º —Ç–∞–∫ —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π!** üí™
