# üó∫Ô∏è –£–¢–û–ß–ù–ï–ù–ò–ï: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ 4 –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ

**–í–æ–ø—Ä–æ—Å:** –°–µ–π—á–∞—Å –Ω–∞ –∫–∞—Ä—Ç–µ 4 –æ–±—ä–µ–∫—Ç–∞ - –æ–Ω–∏ –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ –Ω–æ–≤–æ–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–∞—Ä—Ç–µ?

---

## üìä –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø

### **–í–∞—à–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∫–∞—Ä—Ç–∞:**
```
URL: https://srilanka-37u2-a7jurihfa-sergiis-projects-48df2a28.vercel.app/
–ú–∞—Ä—à—Ä—É—Ç: /map
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç: Explorer.tsx
```

**–ß—Ç–æ —Ç–∞–º —Å–µ–π—á–∞—Å:**
- 6000+ POI –∏–∑ Google Places API
- 4 –æ–±—ä–µ–∫—Ç–∞ (–∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É–ø–æ–º—è–Ω—É–ª–∏)
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –†–µ–¥–∞–∫—Ç–æ—Ä POI

**–û—Ç–∫—É–¥–∞ –¥–∞–Ω–Ω—ã–µ:**
```typescript
// –í Explorer.tsx
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑:
1. /SRI/parsed_data/negombo_tangalle/pass_1_0-1km.json (POI)
2. Supabase —Ç–∞–±–ª–∏—Ü–∞ `pois` (–µ—Å–ª–∏ zoom >= 16)
3. ?????? - –≥–¥–µ –≤–∞—à–∏ 4 –æ–±—ä–µ–∫—Ç–∞?
```

---

## ‚ùì –ö–õ–Æ–ß–ï–í–û–ô –í–û–ü–†–û–°

**–ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–∞—à–∏ —Ç–µ–∫—É—â–∏–µ 4 –æ–±—ä–µ–∫—Ç–∞?**

### **–í–∞—Ä–∏–∞–Ω—Ç A: –í —Ç–∞–±–ª–∏—Ü–µ `pois`**
```sql
SELECT * FROM pois LIMIT 4;
```

–ï—Å–ª–∏ –æ–Ω–∏ —Ç–∞–º ‚Üí –æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ Explorer.tsx

### **–í–∞—Ä–∏–∞–Ω—Ç B: –í JSON —Ñ–∞–π–ª–µ**
```
/SRI/parsed_data/.../pass_1_0-1km.json
```

### **–í–∞—Ä–∏–∞–Ω—Ç C: –ì–¥–µ-—Ç–æ –µ—â—ë?**

---

## üéØ –û–¢–í–ï–¢ –ù–ê –í–ê–® –í–û–ü–†–û–°

### **–ë—É–¥—É—Ç –ª–∏ 4 –æ–±—ä–µ–∫—Ç–∞ –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ –ª–∏—á–Ω–æ–π –∫–∞—Ä—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞?**

```
‚ùå –ù–ï–¢! –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ù–ï –±—É–¥—É—Ç!
```

**–ü–æ—á–µ–º—É:**

**–í–∞—à–∞ –∫–∞—Ä—Ç–∞ (`/map`):**
```typescript
// Explorer.tsx
const data = await loadPOIsFromSupabase(); // –¢–∞–±–ª–∏—Ü–∞ pois
// + JSON —Ñ–∞–π–ª—ã

// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï POI
```

**–õ–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞ (`/map/personal/[userId]/[token]`):**
```typescript
// PersonalMap.tsx (–∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–¥–∏–º)
const data = await supabase
  .from('saved_properties')  // ‚Üê –î–†–£–ì–ê–Ø —Ç–∞–±–ª–∏—Ü–∞!
  .select('*')
  .eq('telegram_user_id', userId);

// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¢–û–õ–¨–ö–û –æ–±—ä–µ–∫—Ç—ã —ç—Ç–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
```

---

## üìã –¢–†–ò –†–ê–ó–ù–´–ï –ö–ê–†–¢–´

### **1. –í–∞—à–∞ –º–∞—Å—Ç–µ—Ä-–∫–∞—Ä—Ç–∞ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)**
```
URL: /map
–î–∞–Ω–Ω—ã–µ: —Ç–∞–±–ª–∏—Ü–∞ pois + JSON —Ñ–∞–π–ª—ã
–û–±—ä–µ–∫—Ç–æ–≤: 6000+ POI + –≤–∞—à–∏ 4 –æ–±—ä–µ–∫—Ç–∞
–ö—Ç–æ –≤–∏–¥–∏—Ç: –í—Å–µ (–∏–ª–∏ —Ç–æ–ª—å–∫–æ –≤—ã)
```

### **2. –õ–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–æ–≤–∞—è)**
```
URL: /map/personal/[userId]/[token]
–î–∞–Ω–Ω—ã–µ: —Ç–∞–±–ª–∏—Ü–∞ saved_properties
–û–±—ä–µ–∫—Ç–æ–≤: –¢–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ—Å–ª–∞–ª –±–æ—Ç—É
–ö—Ç–æ –≤–∏–¥–∏—Ç: –¢–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
```

### **3. –ê–¥–º–∏–Ω—Å–∫–∞—è –º–∞—Å—Ç–µ—Ä-–∫–∞—Ä—Ç–∞ (–±—É–¥—É—â–∞—è)**
```
URL: /admin/master-map
–î–∞–Ω–Ω—ã–µ: pois + saved_properties (–í–°–ï –∫–ª–∏–µ–Ω—Ç—ã)
–û–±—ä–µ–∫—Ç–æ–≤: 6000+ POI + –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
–ö—Ç–æ –≤–∏–¥–∏—Ç: –¢–æ–ª—å–∫–æ –≤—ã (—Å –∞–¥–º–∏–Ω —Ç–æ–∫–µ–Ω–æ–º)
```

---

## üîÑ –ï–°–õ–ò –•–û–¢–ò–¢–ï –ü–û–ö–ê–ó–ê–¢–¨ 4 –û–ë–™–ï–ö–¢–ê –ù–ê –õ–ò–ß–ù–û–ô –ö–ê–†–¢–ï

**–ï—Å—Ç—å 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞:**

### **–í–∞—Ä–∏–∞–Ω—Ç A: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ saved_properties**

–ï—Å–ª–∏ –≤–∞—à–∏ 4 –æ–±—ä–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –∫–ª–∏–µ–Ω—Ç—É:

```sql
-- –ü—Ä–∏–º–µ—Ä: –ö–æ–ø–∏—Ä—É–µ–º –∏–∑ pois –≤ saved_properties
INSERT INTO saved_properties (
  telegram_user_id,
  title,
  latitude,
  longitude,
  price,
  property_type
)
SELECT 
  1000089271,  -- ID –∫–ª–∏–µ–Ω—Ç–∞
  name,
  latitude,
  longitude,
  NULL,        -- price
  category
FROM pois
WHERE id IN (1, 2, 3, 4);  -- –í–∞—à–∏ 4 –æ–±—ä–µ–∫—Ç–∞
```

**–¢–æ–≥–¥–∞:** –ö–ª–∏–µ–Ω—Ç —É–≤–∏–¥–∏—Ç –∏—Ö –Ω–∞ —Å–≤–æ–µ–π –∫–∞—Ä—Ç–µ

---

### **–í–∞—Ä–∏–∞–Ω—Ç B: –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (—Å–ª–æ–∂–Ω–µ–µ)**

```typescript
// PersonalMap.tsx
const userProperties = await loadSavedProperties(userId);
const globalPOIs = await loadGlobalPOIs(); // –í–∞—à–∏ 4 –æ–±—ä–µ–∫—Ç–∞

const allMarkers = [...userProperties, ...globalPOIs];
```

**–¢–æ–≥–¥–∞:** –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç —Å–≤–æ–∏ + –≤–∞—à–∏ 4

---

## ‚úÖ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–î–õ–Ø –ù–ê–ß–ê–õ–ê:**

```
1. –í–∞—à–∞ –∫–∞—Ä—Ç–∞ /map ‚Üí –æ—Å—Ç–∞—ë—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å (6000+ POI + 4 –æ–±—ä–µ–∫—Ç–∞)
2. –õ–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¢–û–õ–¨–ö–û —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ—Å–ª–∞–ª
```

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è "–∑–∞–ø–∏—Å–Ω–æ–π –∫–Ω–∏–∂–∫–∏"!**

–ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –¢–û–õ–¨–ö–û —Å–≤–æ–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∞ –Ω–µ –≤–µ—Å—å POI dataset.

---

**–ü–û–¢–û–ú (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **–ê–¥–º–∏–Ω—Å–∫—É—é –º–∞—Å—Ç–µ—Ä-–∫–∞—Ä—Ç—É**, –≥–¥–µ –í–´ –≤–∏–¥–∏—Ç–µ:
- ‚úÖ –í—Å–µ POI (6000+)
- ‚úÖ –í–∞—à–∏ 4 –æ–±—ä–µ–∫—Ç–∞
- ‚úÖ –í–°–ï –æ–±—ä–µ–∫—Ç—ã –æ—Ç –í–°–ï–• –∫–ª–∏–µ–Ω—Ç–æ–≤ (—Å —Ç–µ–ø–ª–æ–≤–æ–π –∫–∞—Ä—Ç–æ–π)

---

## üéØ –ò–¢–û–ì–û–í–´–ô –û–¢–í–ï–¢

**–í–æ–ø—Ä–æ—Å:** –°–µ–π—á–∞—Å –Ω–∞ –∫–∞—Ä—Ç–µ 4 –æ–±—ä–µ–∫—Ç–∞ - –æ–Ω–∏ –±—É–¥—É—Ç –Ω–∞ –ª–∏—á–Ω–æ–π –∫–∞—Ä—Ç–µ?

**–û—Ç–≤–µ—Ç:** 
```
‚ùå –ù–ï–¢, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ù–ï –±—É–¥—É—Ç

–ü–æ—á–µ–º—É:
‚Üí –í–∞—à–∞ –∫–∞—Ä—Ç–∞ /map –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É pois
‚Üí –õ–∏—á–Ω–∞—è –∫–∞—Ä—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞ /map/personal/... –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É saved_properties
‚Üí –≠—Ç–æ –†–ê–ó–ù–´–ï –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

–ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –¢–û–õ–¨–ö–û —Ç–æ, —á—Ç–æ —Å–∞–º –ø–µ—Ä–µ—Å–ª–∞–ª –±–æ—Ç—É!
```

---

## ü§î –•–û–¢–ò–¢–ï –ß–¢–û–ë–´ –ö–õ–ò–ï–ù–¢ –í–ò–î–ï–õ –í–ê–®–ò 4 –û–ë–™–ï–ö–¢–ê?

**–¢–æ–≥–¥–∞:**
1. –ù—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ `saved_properties`
2. –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É PersonalMap, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ –æ–±–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

**–ù–æ —ç—Ç–æ —É–∂–µ –Ω–µ "–ª–∏—á–Ω–∞—è –∑–∞–ø–∏—Å–Ω–∞—è –∫–Ω–∏–∂–∫–∞", –∞ "–∫–∞—Ä—Ç–∞ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏"**

---

–¢–µ–ø–µ—Ä—å –ø–æ–Ω—è—Ç–Ω–æ? üéØ

–í—ã —Ö–æ—Ç–∏—Ç–µ —á—Ç–æ–±—ã:
- A) –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–µ–ª –¢–û–õ–¨–ö–û —Å–≤–æ–∏ –æ–±—ä–µ–∫—Ç—ã (–∑–∞–ø–∏—Å–Ω–∞—è –∫–Ω–∏–∂–∫–∞) ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É—é
- B) –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–µ–ª —Å–≤–æ–∏ + –≤–∞—à–∏ 4 –æ–±—ä–µ–∫—Ç–∞ (—Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏)
- C) –ß—Ç–æ-—Ç–æ –¥—Ä—É–≥–æ–µ?
