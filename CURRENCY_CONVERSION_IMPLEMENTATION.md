# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç

**–î–∞—Ç–∞:** 31 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ**

---

## üéØ –ó–∞–¥–∞—á–∞

–î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ü–µ–Ω–∞–º–∏ –≤ **LKR** (—Ä—É–ø–∏–∏), **EUR**, **USD** –∏ –¥—Ä—É–≥–∏—Ö –≤–∞–ª—é—Ç–∞—Ö.

---

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **–£—Ç–∏–ª–∏—Ç–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç** (`src/utils/currencyConverter.ts`)

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞–ª—é—Ç–∞–º–∏:

- ‚úÖ `convertToUSD()` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ª—é–±–æ–π –≤–∞–ª—é—Ç—ã –≤ USD
- ‚úÖ `convertFromUSD()` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ USD –≤ –¥—Ä—É–≥—É—é –≤–∞–ª—é—Ç—É
- ‚úÖ `formatPrice()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω—ã —Å —Å–∏–º–≤–æ–ª–æ–º –≤–∞–ª—é—Ç—ã
- ‚úÖ `fetchExchangeRates()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ–≤ —á–µ—Ä–µ–∑ API
- ‚úÖ `getCachedExchangeRates()` - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –Ω–∞ 24 —á–∞—Å–∞
- ‚úÖ `detectCurrency()` - –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã:**
- USD (–¥–æ–ª–ª–∞—Ä –°–®–ê) - –±–∞–∑–æ–≤–∞—è
- LKR (—Ä—É–ø–∏—è –®—Ä–∏-–õ–∞–Ω–∫–∏) - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞
- EUR (–µ–≤—Ä–æ)
- GBP (—Ñ—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤)
- INR (–∏–Ω–¥–∏–π—Å–∫–∞—è —Ä—É–ø–∏—è)
- RUB (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å)
- AUD (–∞–≤—Å—Ç—Ä–∞–ª–∏–π—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä)
- CAD (–∫–∞–Ω–∞–¥—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä)

**–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã (31.01.2026):**
```typescript
1 LKR = $0.0031 USD (50,000 LKR ‚âà $155 USD)
1 EUR = $1.09 USD
1 GBP = $1.27 USD
```

---

### 2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot AI** (`src/lib/telegram-bot-ai.ts`)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ü–µ–Ω –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:

```typescript
// –î–û:
{
  price: 50000,
  currency: "LKR"
}

// –ü–û–°–õ–ï:
{
  price: 50000,        // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
  currency: "LKR",     // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª—é—Ç–∞
  price_usd: 155       // ‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ –≤ USD
}
```

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. Groq AI –ø–∞—Ä—Å–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç —Ü–µ–Ω—É 50000 LKR
2. `formatForDatabase()` –≤—ã–∑—ã–≤–∞–µ—Ç `convertToUSD(50000, 'LKR')`
3. –†–µ–∑—É–ª—å—Ç–∞—Ç: price_usd = 155 USD
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î –æ–±–µ —Ü–µ–Ω—ã (–æ—Ä–∏–≥–∏–Ω–∞–ª + USD)

---

### 3. **–ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** (`database/10_add_price_usd_column.sql`)

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `price_usd` –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:

```sql
-- –ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞
ALTER TABLE saved_properties ADD COLUMN price_usd NUMERIC;
ALTER TABLE archived_properties ADD COLUMN price_usd NUMERIC;

-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
CREATE TRIGGER trigger_calculate_price_usd
  BEFORE INSERT OR UPDATE ON saved_properties
  FOR EACH ROW EXECUTE FUNCTION calculate_price_usd();

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
CREATE FUNCTION get_properties_by_price_usd(min_price, max_price);

-- View –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
CREATE VIEW properties_with_prices AS ...
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ price –∏–ª–∏ currency
- ‚úÖ –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏)

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ —Ä—É–ø–∏—è—Ö

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
–¢–µ–∫—Å—Ç: "–î–æ–º –≤ –ú–∏—Ä–∏—Å—Å–µ, 50000 —Ä—É–ø–∏–π –≤ –º–µ—Å—è—Ü"
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
1. Groq AI –ø–∞—Ä—Å–∏—Ç: `{ price: 50000, currency: "LKR", pricePeriod: "month" }`
2. `convertToUSD(50000, "LKR")` ‚Üí `155`
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
   ```json
   {
     "price": 50000,
     "currency": "LKR",
     "price_usd": 155,
     "price_period": "month"
   }
   ```

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –ù–∞ –∫–∞—Ä—Ç–µ: "Rs 50,000/–º–µ—Å—è—Ü"
- –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç: "‚âà $155/–º–µ—Å—è—Ü"
- –§–∏–ª—å—Ç—Ä: –ü–æ–ø–∞–¥–∞–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω "$0-$200"

---

### –ü—Ä–∏–º–µ—Ä 2: –û–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ –µ–≤—Ä–æ

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
–¢–µ–∫—Å—Ç: "–ê–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã ‚Ç¨500 –≤ –Ω–µ–¥–µ–ª—é"
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
1. Groq AI –ø–∞—Ä—Å–∏—Ç: `{ price: 500, currency: "EUR", pricePeriod: "week" }`
2. `convertToUSD(500, "EUR")` ‚Üí `545`
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
   ```json
   {
     "price": 500,
     "currency": "EUR",
     "price_usd": 545,
     "price_period": "week"
   }
   ```

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –ù–∞ –∫–∞—Ä—Ç–µ: "‚Ç¨500/–Ω–µ–¥–µ–ª—é"
- –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç: "‚âà $545/–Ω–µ–¥–µ–ª—é"
- –§–∏–ª—å—Ç—Ä: –ü–æ–ø–∞–¥–∞–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω "$500-$1000"

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Telegram Message‚îÇ
‚îÇ  "50000 LKR"   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Groq AI       ‚îÇ
‚îÇ –ü–∞—Ä—Å–∏—Ç —Ü–µ–Ω—É     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ formatForDatabase‚îÇ
‚îÇ convertToUSD()  ‚îÇ ‚Üê –∏—Å–ø–æ–ª—å–∑—É–µ—Ç src/utils/currencyConverter.ts
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Supabase DB   ‚îÇ
‚îÇ price: 50000    ‚îÇ
‚îÇ currency: LKR   ‚îÇ
‚îÇ price_usd: 155  ‚îÇ ‚Üê –ù–û–í–ê–Ø –ö–û–õ–û–ù–ö–ê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –§–∏–ª—å—Ç—Ä—ã/Sort   ‚îÇ
‚îÇ WHERE price_usd ‚îÇ
‚îÇ BETWEEN $0-$200 ‚îÇ ‚Üê –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤

**–ò—Å—Ç–æ—á–Ω–∏–∫:** https://open.er-api.com/v6/latest/USD

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ö—É—Ä—Å—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `localStorage`
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ä–∞–∑ –≤ 24 —á–∞—Å–∞
- Fallback –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫—É—Ä—Å—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ API:**
```json
{
  "result": "success",
  "base_code": "USD",
  "rates": {
    "LKR": 322.58,
    "EUR": 0.92,
    "GBP": 0.79
  }
}
```

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`src/utils/currencyConverter.ts`** (–ù–û–í–´–ô)
   - –ü–æ–ª–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç
   - 300+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
   - –¢–µ—Å—Ç—ã –∏ –ø—Ä–∏–º–µ—Ä—ã

2. **`src/lib/telegram-bot-ai.ts`**
   - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `convertToUSD`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `formatForDatabase()`
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

3. **`database/10_add_price_usd_column.sql`** (–ù–û–í–´–ô)
   - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `price_usd`
   - –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞
   - View –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞

4. **`CURRENCY_CONVERSION_ANALYSIS.md`**
   - –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω: ‚ö†Ô∏è ‚Üí ‚úÖ

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

```typescript
import { convertToUSD, formatPrice } from '@/utils/currencyConverter';

// –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
const usd = convertToUSD(50000, 'LKR'); // 155
const eur = convertFromUSD(155, 'EUR'); // 142

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
formatPrice(50000, 'LKR'); // "Rs 50,000"
formatPrice(155, 'USD');    // "$155"
formatPrice(142, 'EUR');    // "‚Ç¨142"

// –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã
detectCurrency('Rs 50000'); // "LKR"
detectCurrency('‚Ç¨500');     // "EUR"
```

### –î–ª—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤

```sql
-- –§–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ –≤ USD (–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≤–∞–ª—é—Ç—ã)
SELECT * FROM saved_properties 
WHERE price_usd BETWEEN 100 AND 200;

-- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ –≤ USD
SELECT * FROM saved_properties 
ORDER BY price_usd ASC;

-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
SELECT * FROM get_properties_by_price_usd(100, 200);

-- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ü–µ–Ω
SELECT * FROM properties_with_prices;
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

- [x] –°–æ–∑–¥–∞–Ω `src/utils/currencyConverter.ts`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `convertToUSD()`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `convertFromUSD()`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `formatPrice()`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `fetchExchangeRates()`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—Ä—Å–æ–≤ (24 —á–∞—Å–∞)
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ `telegram-bot-ai.ts`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `formatForDatabase()`
- [x] –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è SQL
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `price_usd`
- [x] –°–æ–∑–¥–∞–Ω —Ç—Ä–∏–≥–≥–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞
- [x] –°–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏
- [x] –°–æ–∑–¥–∞–Ω view `properties_with_prices`
- [x] –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_properties_by_price_usd()`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–û —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- ‚ùå –¶–µ–Ω—ã –≤ LKR –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å
- ‚ùå –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–π –≤–∞–ª—é—Ç–µ
- ‚ùå –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ –ø—Ä–∏ —Å–º–µ—à–∞–Ω–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö
- ‚ùå –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ

### –ü–û–°–õ–ï —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- ‚úÖ –í—Å–µ —Ü–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ USD
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö –≤–∞–ª—é—Ç
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–µ —Ü–µ–Ω—ã (–æ—Ä–∏–≥–∏–Ω–∞–ª + —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç)

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- 1 –Ω–æ–≤—ã–π —Ñ–∞–π–ª: `currencyConverter.ts` (340 —Å—Ç—Ä–æ–∫)
- 1 SQL –º–∏–≥—Ä–∞—Ü–∏—è (150 —Å—Ç—Ä–æ–∫)
- 1 –∫–æ–ª–æ–Ω–∫–∞ –≤ –ë–î: `price_usd`
- 1 —Ç—Ä–∏–≥–≥–µ—Ä: `trigger_calculate_price_usd`
- 1 view: `properties_with_prices`
- 1 —Ñ—É–Ω–∫—Ü–∏—è: `get_properties_by_price_usd()`

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
- `telegram-bot-ai.ts`: +12 —Å—Ç—Ä–æ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 8 –≤–∞–ª—é—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫—É—Ä—Å—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç–Ω—ã–º API (–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
   - Webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫—É—Ä—Å–æ–≤

2. **–ò—Å—Ç–æ—Ä–∏—è –∫—É—Ä—Å–æ–≤**
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–∞ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   - –ê–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º

3. **–ë–æ–ª—å—à–µ –≤–∞–ª—é—Ç**
   - –î–æ–±–∞–≤–∏—Ç—å THB (—Ç–∞–π—Å–∫–∏–π –±–∞—Ç)
   - –î–æ–±–∞–≤–∏—Ç—å AED (–¥–∏—Ä—Ö–∞–º –û–ê–≠)
   - –î–æ–±–∞–≤–∏—Ç—å JPY (—è–ø–æ–Ω—Å–∫–∞—è –∏–µ–Ω–∞)

4. **UI —É–ª—É—á—à–µ–Ω–∏—è**
   - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–∞–ª—é—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ
   - –ì—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤
   - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤–∞–ª—é—Ç

---

## üìÑ –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **–ê–Ω–∞–ª–∏–∑:** `CURRENCY_CONVERSION_ANALYSIS.md`
- **–ú–∏–≥—Ä–∞—Ü–∏—è:** `database/10_add_price_usd_column.sql`
- **–£—Ç–∏–ª–∏—Ç–∞:** `src/utils/currencyConverter.ts`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** `src/lib/telegram-bot-ai.ts`

---

**–ê–≤—Ç–æ—Ä:** Rovo Dev  
**–î–∞—Ç–∞:** 2026-01-31  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ
