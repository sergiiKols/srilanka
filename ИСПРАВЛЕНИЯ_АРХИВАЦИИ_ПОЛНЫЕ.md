# ‚úÖ –ü–û–õ–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–´ –ê–†–•–ò–í–ê–¶–ò–ò

## üîç –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 1: –§—É–Ω–∫—Ü–∏—è `soft_delete_property` –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
**–°–∏–º–ø—Ç–æ–º:** –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤  
**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è –Ω–µ –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±—ä–µ–∫—Ç—ã –Ω–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–ª–∏—Å—å

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü
**–°–∏–º–ø—Ç–æ–º:** `ERROR: column "square_meters" does not exist`  
**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è –ø—ã—Ç–∞–ª–∞—Å—å –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 3: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–∞—Ä—Ç–∞—Ö
**–°–∏–º–ø—Ç–æ–º:** –û–±—ä–µ–∫—Ç –∏—Å—á–µ–∑–∞–µ—Ç —Å –∫–∞—Ä—Ç—ã, –Ω–æ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –±–∞–∑–µ  
**–ü—Ä–∏—á–∏–Ω–∞:** PersonalMap —É–¥–∞–ª—è–ª —Ç–æ–ª—å–∫–æ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ state, –Ω–µ –≤—ã–∑—ã–≤–∞—è API  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—ä–µ–∫—Ç –≤–æ–∑–≤—Ä–∞—â–∞–ª—Å—è

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `soft_delete_property`
**–§–∞–π–ª:** `FIX_ARCHIVE_FUNCTIONS.sql`

**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
- –£–±—Ä–∞–Ω—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏: `square_meters`, `contact_telegram`, `location_description`, `message_link`, `raw_text`
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –∏–∑ —Å—Ö–µ–º—ã: `contact_name`, `source_type`, `forward_from_username`, `forward_date`, `google_maps_url`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ RLS –ø–æ–ª–∏—Ç–∏–∫–∞ –¥–ª—è anon –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è:**
- ‚úÖ –ö–æ–ø–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç –≤ `archived_properties` —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `can_restore = TRUE`
- ‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–∏—á–∏–Ω—É –∏ –¥–∞—Ç—É –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏
- ‚úÖ –£–¥–∞–ª—è–µ—Ç –∏–∑ `saved_properties`
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `TRUE` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞ PersonalMap
**–§–∞–π–ª:** `src/components/map/PersonalMap.tsx`

**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
```tsx
// –î–û (—Å—Ç—Ä–æ–∫–∞ 191-198):
onDelete={(propertyId) => {
    // –£–¥–∞–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∏–∑ state - –ù–ï–¢ –≤—ã–∑–æ–≤–∞ API!
    setProperties(prev => prev.filter(p => p.id !== propertyId));
}}

// –ü–û–°–õ–ï:
onDelete={async (propertyId) => {
    // 1. –í—ã–∑—ã–≤–∞–µ–º API DELETE
    const response = await fetch(`/api/saved-properties/${propertyId}?userId=${userId}`, {
        method: 'DELETE'
    });
    
    // 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    if (!response.ok) {
        alert('Failed to delete property');
        return;
    }
    
    // 3. –£–¥–∞–ª—è–µ–º –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ state
    setProperties(prev => prev.filter(p => p.id !== propertyId));
}}
```

**–¢–µ–ø–µ—Ä—å:**
- ‚úÖ –í—ã–∑—ã–≤–∞–µ—Ç—Å—è API `/api/saved-properties/[id]?userId=XXX`
- ‚úÖ API –≤—ã–∑—ã–≤–∞–µ—Ç `soft_delete_property()` –¥–ª—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏
- ‚úÖ –û–±—ä–µ–∫—Ç –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ `archived_properties`
- ‚úÖ –£–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ state –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ RLS –ø–æ–ª–∏—Ç–∏–∫–∞
**–§–∞–π–ª:** `FIX_ARCHIVE_FUNCTIONS.sql`

```sql
CREATE POLICY IF NOT EXISTS "Allow anon read archived"
  ON archived_properties FOR SELECT
  TO anon, authenticated
  USING (can_restore = true);
```

**–¢–µ–ø–µ—Ä—å:**
- ‚úÖ –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- ‚úÖ Admin Panel –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã —Å `can_restore = TRUE`

---

## üöÄ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨:

### –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL-—Å–∫—Ä–∏–ø—Ç
**–§–∞–π–ª:** `FIX_ARCHIVE_FUNCTIONS.sql`

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase SQL Editor
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç (Run)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `‚úÖ –§–£–ù–ö–¶–ò–Ø –°–û–ó–î–ê–ù–ê!`

### –®–∞–≥ 2: –ö–æ–¥ —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
–§–∞–π–ª `src/components/map/PersonalMap.tsx` —É–∂–µ –∏–∑–º–µ–Ω—ë–Ω.  
**–î–µ–ø–ª–æ–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π —Å–±–æ—Ä–∫–µ.

### –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
1. –û—Ç–∫—Ä–æ–π—Ç–µ PersonalMap –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É Delete
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å:**
   ```
   üóëÔ∏è Deleting property: uuid-here
   ‚úÖ Property deleted from database: {success: true, ...}
   ‚úÖ Property removed from map
   ```
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   ```sql
   -- –û–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ archived_properties
   SELECT * FROM archived_properties ORDER BY archived_at DESC LIMIT 1;
   ```
6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Admin Panel:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `/admin/master-map`
   - –í–∫–ª—é—á–∏—Ç–µ "Show Archived"
   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–¥–∞–ª—ë–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç

---

## üìä –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –ü–û–õ–ù–´–ô –¶–ò–ö–õ:

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç:
```
PersonalMap ‚Üí –ö–Ω–æ–ø–∫–∞ Delete
    ‚Üì
onDelete(propertyId) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
    ‚Üì
fetch(`/api/saved-properties/${propertyId}?userId=${userId}`, { method: 'DELETE' })
```

### 2. API –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å:
```
/api/saved-properties/[id].ts ‚Üí DELETE handler
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ userId (–≤–ª–∞–¥–µ–ª–µ—Ü?)
    ‚Üì
supabase.rpc('soft_delete_property', { property_id, user_id, reason })
```

### 3. –§—É–Ω–∫—Ü–∏—è –∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç:
```
soft_delete_property() –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    ‚Üì
–ö–æ–ø–∏—Ä—É–µ—Ç –∏–∑ saved_properties ‚Üí archived_properties
    ‚Üì
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç can_restore = TRUE, archive_reason = 'user_deleted'
    ‚Üì
DELETE FROM saved_properties WHERE id = property_id
    ‚Üì
RETURN TRUE
```

### 4. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
```
API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç { success: true }
    ‚Üì
PersonalMap —É–¥–∞–ª—è–µ—Ç –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ state
    ‚Üì
setProperties(prev => prev.filter(p => p.id !== propertyId))
    ‚Üì
–û–±—ä–µ–∫—Ç –∏—Å—á–µ–∑–∞–µ—Ç —Å –∫–∞—Ä—Ç—ã
```

### 5. –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å –∞—Ä—Ö–∏–≤:
```
Admin Panel ‚Üí Show Archived
    ‚Üì
loadArchivedProperties()
    ‚Üì
SELECT * FROM archived_properties WHERE can_restore = TRUE
    ‚Üì
–°–µ—Ä—ã–µ –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º [ARCHIVED]
```

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

### ‚úÖ PersonalMap (–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–∞—Ä—Ç—ã):
- –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –û–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –û–±—ä–µ–∫—Ç –∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ `archived_properties`
- –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

### ‚úÖ Admin Panel:
- "Show Archived" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–¥–∞–ª—ë–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –°–µ—Ä—ã–µ –º–∞—Ä–∫–µ—Ä—ã –≤–∏–¥–Ω—ã –Ω–∞ –∫–∞—Ä—Ç–µ
- PropertyDrawer –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å [ARCHIVED]

### ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- –§—É–Ω–∫—Ü–∏—è `soft_delete_property` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –ê—Ä—Ö–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- –ú–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º

---

## üìÅ –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´:

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------|-----------|--------|
| `FIX_ARCHIVE_FUNCTIONS.sql` | –°–æ–∑–¥–∞–Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è | ‚ö†Ô∏è –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å |
| `src/components/map/PersonalMap.tsx` | –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ API –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| `src/components/admin/AdminMasterMap.tsx` | –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ –ì–æ—Ç–æ–≤–æ (—Ä–∞–Ω–µ–µ) |

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

### –¢–µ—Å—Ç 1: –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ PersonalMap
2. –£–¥–∞–ª–∏—Ç–µ –æ–±—ä–µ–∫—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å - –Ω–µ—Ç –æ—à–∏–±–æ–∫
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É - –æ–±—ä–µ–∫—Ç –Ω–µ –≤–µ—Ä–Ω—É–ª—Å—è
‚úÖ PASS
```

### –¢–µ—Å—Ç 2: –ê—Ä—Ö–∏–≤–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
```
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL:
   SELECT * FROM archived_properties ORDER BY archived_at DESC LIMIT 1;
2. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–∏—Å—å —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º
3. can_restore = TRUE
4. archive_reason = 'user_deleted'
‚úÖ PASS
```

### –¢–µ—Å—Ç 3: Admin Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ /admin/master-map
2. –í–∫–ª—é—á–∏—Ç–µ "Show Archived"
3. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "Show Archived (1)" –∏–ª–∏ –±–æ–ª—å—à–µ
4. –°–µ—Ä—ã–π –º–∞—Ä–∫–µ—Ä –≤–∏–¥–µ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ
‚úÖ PASS
```

---

## üêõ –í–û–ó–ú–û–ñ–ù–´–ï –û–®–ò–ë–ö–ò:

### –û—à–∏–±–∫–∞: "function soft_delete_property does not exist"
**–†–µ—à–µ–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω–∏—Ç–µ `FIX_ARCHIVE_FUNCTIONS.sql`

### –û—à–∏–±–∫–∞: "column does not exist"
**–†–µ—à–µ–Ω–∏–µ:** –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ SQL-—Å–∫—Ä–∏–ø—Ç–µ

### –û—à–∏–±–∫–∞: "permission denied"
**–†–µ—à–µ–Ω–∏–µ:** RLS –ø–æ–ª–∏—Ç–∏–∫–∞ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Å–∫—Ä–∏–ø—Ç

### –û—à–∏–±–∫–∞: "Property not found or access denied"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ userId —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ó–ê–í–ï–†–®–ï–ù–ò–Ø:

- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω SQL-—Å–∫—Ä–∏–ø—Ç `FIX_ARCHIVE_FUNCTIONS.sql`
- [ ] –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ (‚úÖ –§–£–ù–ö–¶–ò–Ø –°–û–ó–î–ê–ù–ê!)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞ PersonalMap
- [ ] –û–±—ä–µ–∫—Ç –∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ –±–∞–∑–µ
- [ ] Admin Panel –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤
- [ ] –ö–æ–Ω—Å–æ–ª—å –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –û–±—ä–µ–∫—Ç –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

---

## üéâ –ò–¢–û–ì:

**–ë—ã–ª–æ:**
- ‚ùå –§—É–Ω–∫—Ü–∏—è –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç API
- ‚ùå –û–±—ä–µ–∫—Ç—ã –Ω–µ –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è
- ‚ùå Show Archived (0)

**–°—Ç–∞–ª–æ:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç API –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—ä–µ–∫—Ç—ã –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è –≤ –±–∞–∑–µ
- ‚úÖ Show Archived –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–¥–∞–ª—ë–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –±—É–¥—É—â–µ–º

---

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ `FIX_ARCHIVE_FUNCTIONS.sql` –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ!** üöÄ
