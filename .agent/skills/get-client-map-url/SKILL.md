## Name: Get Client Map URL

## Description:
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç—É –≤ Telegram

## Purpose:
–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∞—Å–∏–≤—É—é, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ä—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É –≤ Telegram.

---

## –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï
–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É

## –ö–û–ì–î–ê –ó–ê–ü–£–°–ö–ê–ï–¢–°–Ø
–°—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ offer –¥–ª—è –∑–∞—è–≤–∫–∏ (skill #2) –∏–ª–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

## –ß–¢–û –ù–ê –í–•–û–î–ï
- `client_id`
- `request_id`

## –ß–¢–û –ù–ê –í–´–•–û–î–ï
- `map_url` (–ø–æ–ª–Ω–∞—è —Å—Å—ã–ª–∫–∞: `https://unmissable.com/map/client_abc123?request=req_xyz789`)
- –°—Å—ã–ª–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç—É –≤ Telegram

## –ß–¢–û –°–ò–°–¢–ï–ú–ê –î–ï–õ–ê–ï–¢

### –®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è URL
```javascript
const url = `https://unmissable.com/map/${client_id}?request=${request_id}`;
```

### –®–∞–≥ 2: –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
```javascript
await bot.sendMessage(client_id, `
üéâ –ü—Ä–∏—à–ª–æ –Ω–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ!
üìç –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –∫–∞—Ä—Ç–µ: ${url}
`);
```

### –®–∞–≥ 3: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```javascript
await supabase.from('map_url_sends').insert({
  client_id, request_id, url, sent_at: new Date()
});
```

## –í–ê–ñ–ù–´–ï –í–û–ü–†–û–°–´
- **–ó–∞—â–∏—Ç–∞:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω (URL —É–Ω–∏–∫–∞–ª–µ–Ω –ø–æ client_id)
- **–û—Ç–ø—Ä–∞–≤–∫–∞:** Telegram DM –æ—Ç –±–æ—Ç–∞
- **–¢–µ–∫—Å—Ç:** "üéâ –ü—Ä–∏—à–ª–æ –Ω–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ! üìç –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –∫–∞—Ä—Ç–µ: [—Å—Å—ã–ª–∫–∞]"
- **–ö–æ—Ä–æ—Ç–∫–∞—è —Å—Å—ã–ª–∫–∞:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

## Expected Output
```json
{
  "status": "sent",
  "map_url": "https://unmissable.com/map/client_123?request=req_456",
  "message_id": 12345
}
```
